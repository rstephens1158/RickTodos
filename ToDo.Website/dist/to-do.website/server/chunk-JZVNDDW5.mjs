import './polyfills.server.mjs';
import{$ as Ye,$a as ce,A as oo,Aa as I,Ab as Oo,B as Be,Ba as Xe,Bb as Mo,C as so,Ca as De,Cb as Io,D as ro,Da as re,Db as Ro,E as Li,Ea as T,Eb as ko,F as Wi,Fa as S,Fb as Ao,G as ao,Ga as K,Gb as on,H as Ut,Ha as et,Hb as qt,I as $t,Ia as tt,Ib as Qt,J as co,Ja as Ee,Jb as sn,K as Ae,Ka as mo,Kb as No,L as W,La as go,M as q,Ma as H,N as je,Na as j,Nb as Fo,O as Ze,Oa as _o,P as bt,Pa as vo,Q as C,Qa as zt,R as F,Ra as yo,Rb as xo,S as v,Sa as St,T as g,Ta as wt,Tb as Xt,U as m,Ua as Xi,Ub as Po,V as lo,Va as O,Vb as Vo,W as Lt,Wa as it,X as He,Xa as ee,Y as U,Ya as Ge,Z as x,Za as $,_ as z,_a as ae,a as he,aa as zi,ab as en,b as P,ba as Ki,bb as bo,c as xe,ca as Tt,d as _t,da as Te,db as To,e as qn,ea as Se,eb as nt,f as Pe,fa as qe,g as Qn,ga as Wt,h as Ve,ha as de,i as k,ia as uo,ib as tn,j as vt,ja as Qe,jb as Kt,k as G,ka as pe,l as oe,la as X,lb as Jt,m as yt,ma as Ji,mb as Zt,n as Xn,na as ho,nb as So,o as ve,oa as po,ob as nn,p as $i,pa as Zi,pb as fe,q as eo,qa as E,r as Je,ra as w,rb as wo,s as se,sa as Yi,sb as Yt,t as to,ta as fo,tb as Q,u as Gt,ua as qi,ub as Ne,v as L,va as we,vb as Co,w as ye,wa as Qi,wb as ot,x as be,xa as Ce,xb as te,y as io,ya as B,yb as Do,z as no,za as ue,zb as Eo}from"./chunk-KEGILZD3.mjs";import{a as y,b as R,h as D}from"./chunk-VVCT4QZE.mjs";function rn(t){t||(Ki(rn),t=m(Qe));let e=new he(n=>t.onDestroy(n.next.bind(n)));return n=>n.pipe(W(e))}function an(t,e){let n=!e?.manualCleanup;n&&!e?.injector&&Ki(an);let i=n?e?.injector?.get(Qe)??m(Qe):null,o;e?.requireSync?o=Qi({kind:0}):o=Qi({kind:1,value:e?.initialValue});let s=t.subscribe({next:r=>o.set({kind:1,value:r}),error:r=>{if(e?.rejectErrors)throw r;o.set({kind:2,error:r})}});return i?.onDestroy(s.unsubscribe.bind(s)),Jt(()=>{let r=o();switch(r.kind){case 1:return r.value;case 2:throw r.error;case 0:throw new Ze(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var zo=(()=>{let e=class e{constructor(i,o){this._renderer=i,this._elementRef=o,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,o){this._renderer.setProperty(this._elementRef.nativeElement,i,o)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(o){return new(o||e)(w(qi),w(pe))},e.\u0275dir=z({type:e});let t=e;return t})(),ra=(()=>{let e=class e extends zo{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=qe(e)))(s||e)}})(),e.\u0275dir=z({type:e,features:[Ce]});let t=e;return t})(),Ko=new v("");var aa={provide:Ko,useExisting:bt(()=>li),multi:!0};function ca(){let t=nn()?nn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var la=new v(""),li=(()=>{let e=class e extends zo{constructor(i,o,s){super(i,o),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ca())}writeValue(i){let o=i??"";this.setProperty("value",o)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(o){return new(o||e)(w(qi),w(pe),w(la,8))},e.\u0275dir=z({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,s){o&1&&H("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Ge([aa]),Ce]});let t=e;return t})();function Fe(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Jo(t){return t!=null&&typeof t.length=="number"}var Zo=new v(""),Yo=new v(""),da=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ii=class{static min(e){return ua(e)}static max(e){return ha(e)}static required(e){return pa(e)}static requiredTrue(e){return fa(e)}static email(e){return ma(e)}static minLength(e){return ga(e)}static maxLength(e){return _a(e)}static pattern(e){return va(e)}static nullValidator(e){return qo(e)}static compose(e){return ns(e)}static composeAsync(e){return ss(e)}};function ua(t){return e=>{if(Fe(e.value)||Fe(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function ha(t){return e=>{if(Fe(e.value)||Fe(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function pa(t){return Fe(t.value)?{required:!0}:null}function fa(t){return t.value===!0?null:{required:!0}}function ma(t){return Fe(t.value)||da.test(t.value)?null:{email:!0}}function ga(t){return e=>Fe(e.value)||!Jo(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function _a(t){return e=>Jo(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function va(t){if(!t)return qo;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(Fe(i.value))return null;let o=i.value;return e.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}function qo(t){return null}function Qo(t){return t!=null}function Xo(t){return To(t)?Ve(t):t}function es(t){let e={};return t.forEach(n=>{e=n!=null?y(y({},e),n):e}),Object.keys(e).length===0?null:e}function ts(t,e){return e.map(n=>n(t))}function ya(t){return!t.validate}function is(t){return t.map(e=>ya(e)?e:n=>e.validate(n))}function ns(t){if(!t)return null;let e=t.filter(Qo);return e.length==0?null:function(n){return es(ts(n,e))}}function os(t){return t!=null?ns(is(t)):null}function ss(t){if(!t)return null;let e=t.filter(Qo);return e.length==0?null:function(n){let i=ts(n,e).map(Xo);return Xn(i).pipe(G(es))}}function rs(t){return t!=null?ss(is(t)):null}function Bo(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function as(t){return t._rawValidators}function cs(t){return t._rawAsyncValidators}function cn(t){return t?Array.isArray(t)?t:[t]:[]}function ni(t,e){return Array.isArray(t)?t.includes(e):t===e}function jo(t,e){let n=cn(e);return cn(t).forEach(o=>{ni(n,o)||n.push(o)}),n}function Ho(t,e){return cn(e).filter(n=>!ni(t,n))}var oi=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=os(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rs(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},rt=class extends oi{get formDirective(){return null}get path(){return null}},Et=class extends oi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},si=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},ba={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Wd=R(y({},ba),{"[class.ng-submitted]":"isSubmitted"}),ls=(()=>{let e=class e extends si{constructor(i){super(i)}};e.\u0275fac=function(o){return new(o||e)(w(Et,2))},e.\u0275dir=z({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,s){o&2&&De("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ce]});let t=e;return t})(),ds=(()=>{let e=class e extends si{constructor(i){super(i)}};e.\u0275fac=function(o){return new(o||e)(w(rt,10))},e.\u0275dir=z({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(o,s){o&2&&De("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Ce]});let t=e;return t})();var Ct="VALID",ei="INVALID",st="PENDING",Dt="DISABLED";function un(t){return(di(t)?t.validators:t)||null}function Ta(t){return Array.isArray(t)?os(t):t||null}function hn(t,e){return(di(e)?e.asyncValidators:t)||null}function Sa(t){return Array.isArray(t)?rs(t):t||null}function di(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function us(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new Ze(1e3,"");if(!i[n])throw new Ze(1001,"")}function hs(t,e,n){t._forEachChild((i,o)=>{if(n[o]===void 0)throw new Ze(1002,"")})}var at=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ct}get invalid(){return this.status===ei}get pending(){return this.status==st}get disabled(){return this.status===Dt}get enabled(){return this.status!==Dt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(jo(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(jo(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ho(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ho(e,this._rawAsyncValidators))}hasValidator(e){return ni(this._rawValidators,e)}hasAsyncValidator(e){return ni(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=st,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Dt,this.errors=null,this._forEachChild(i=>{i.disable(R(y({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(R(y({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ct,this._forEachChild(i=>{i.enable(R(y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(R(y({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ct||this.status===st)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dt:Ct}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=st,this._hasOwnPendingAsyncValidator=!0;let n=Xo(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,o)=>i&&i._find(o),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new X,this.statusChanges=new X}_calculateStatus(){return this._allControlsDisabled()?Dt:this.errors?ei:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(st)?st:this._anyControlsHaveStatus(ei)?ei:Ct}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){di(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Ta(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Sa(this._rawAsyncValidators)}},ri=class extends at{constructor(e,n,i){super(un(n),hn(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){hs(this,!0,e),Object.keys(e).forEach(i=>{us(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let o=this.controls[i];o&&o.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,o)=>{i.reset(e?e[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,o)=>((i.enabled||this.disabled)&&(n[o]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((o,s)=>{i=n(i,o,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ln=class extends ri{};var ps=new v("CallSetDisabledState",{providedIn:"root",factory:()=>pn}),pn="always";function wa(t,e){return[...e.path,t]}function Go(t,e,n=pn){fn(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Da(t,e),Oa(t,e),Ea(t,e),Ca(t,e)}function Uo(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),ci(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ai(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Ca(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function fn(t,e){let n=as(t);e.validator!==null?t.setValidators(Bo(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=cs(t);e.asyncValidator!==null?t.setAsyncValidators(Bo(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let o=()=>t.updateValueAndValidity();ai(e._rawValidators,o),ai(e._rawAsyncValidators,o)}function ci(t,e){let n=!1;if(t!==null){if(e.validator!==null){let o=as(t);if(Array.isArray(o)&&o.length>0){let s=o.filter(r=>r!==e.validator);s.length!==o.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let o=cs(t);if(Array.isArray(o)&&o.length>0){let s=o.filter(r=>r!==e.asyncValidator);s.length!==o.length&&(n=!0,t.setAsyncValidators(s))}}}let i=()=>{};return ai(e._rawValidators,i),ai(e._rawAsyncValidators,i),n}function Da(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&fs(t,e)})}function Ea(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&fs(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function fs(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Oa(t,e){let n=(i,o)=>{e.valueAccessor.writeValue(i),o&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Ma(t,e){t==null,fn(t,e)}function Ia(t,e){return ci(t,e)}function Ra(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function ka(t){return Object.getPrototypeOf(t.constructor)===ra}function Aa(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Na(t,e){if(!e)return null;Array.isArray(e);let n,i,o;return e.forEach(s=>{s.constructor===li?n=s:ka(s)?i=s:o=s}),o||i||n||null}function Fa(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function $o(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Lo(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ti=class extends at{constructor(e=null,n,i){super(un(n),hn(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),di(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Lo(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$o(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$o(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Lo(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var xa=t=>t instanceof ti;var ms=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=z({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var gs=new v("");var Pa={provide:rt,useExisting:bt(()=>mn)},mn=(()=>{let e=class e extends rt{constructor(i,o,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new X,this._setValidators(i),this._setAsyncValidators(o)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ci(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let o=this.form.get(i.path);return Go(o,i,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),o}getControl(i){return this.form.get(i.path)}removeControl(i){Uo(i.control||null,i,!1),Fa(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,o){this.form.get(i.path).setValue(o)}onSubmit(i){return this.submitted=!0,Aa(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let o=i.control,s=this.form.get(i.path);o!==s&&(Uo(o||null,i),xa(s)&&(Go(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let o=this.form.get(i.path);Ma(o,i),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let o=this.form.get(i.path);o&&Ia(o,i)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fn(this.form,this),this._oldForm&&ci(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(o){return new(o||e)(w(Zo,10),w(Yo,10),w(ps,8))},e.\u0275dir=z({type:e,selectors:[["","formGroup",""]],hostBindings:function(o,s){o&1&&H("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[He.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ge([Pa]),Ce,Tt]});let t=e;return t})();var Va={provide:Et,useExisting:bt(()=>gn)},gn=(()=>{let e=class e extends Et{set isDisabled(i){}constructor(i,o,s,r,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new X,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(o),this._setAsyncValidators(s),this.valueAccessor=Na(this,r)}ngOnChanges(i){this._added||this._setUpControl(),Ra(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return wa(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(o){return new(o||e)(w(rt,13),w(Zo,10),w(Yo,10),w(Ko,10),w(gs,8))},e.\u0275dir=z({type:e,selectors:[["","formControlName",""]],inputs:{name:[He.None,"formControlName","name"],isDisabled:[He.None,"disabled","isDisabled"],model:[He.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ge([Va]),Ce,Tt]});let t=e;return t})();var Ba=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({});let t=e;return t})(),dn=class extends at{constructor(e,n,i){super(un(n),hn(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),n&&(this.controls.splice(o,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){hs(this,!1,e),e.forEach((i,o)=>{us(this,!1,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,o)=>{i.reset(e[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Wo(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var _s=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,o=null){let s=this._reduceControls(i),r={};return Wo(o)?r=o:o!==null&&(r.validators=o.validator,r.asyncValidators=o.asyncValidator),new ri(s,r)}record(i,o=null){let s=this._reduceControls(i);return new ln(s,o)}control(i,o,s){let r={};return this.useNonNullable?(Wo(o)?r=o:(r.validators=o,r.asyncValidators=s),new ti(i,R(y({},r),{nonNullable:!0}))):new ti(i,o,s)}array(i,o,s){let r=i.map(a=>this._createControl(a));return new dn(r,o,s)}_reduceControls(i){let o={};return Object.keys(i).forEach(s=>{o[s]=this._createControl(i[s])}),o}_createControl(i){if(i instanceof ti)return i;if(i instanceof at)return i;if(Array.isArray(i)){let o=i[0],s=i.length>1?i[1]:null,r=i.length>2?i[2]:null;return this.control(o,s,r)}else return this.control(i)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vs=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:gs,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:ps,useValue:i.callSetDisabledState??pn}]}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({imports:[Ba]});let t=e;return t})();var Ga=["*"];var Ua=["dialog"];var ys={animation:!0,transitionTimerDelayMs:5},bs=(()=>{let e=class e{constructor(){this.animation=ys.animation}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $a(t){let{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t),i=parseFloat(e),o=parseFloat(n);return(i+o)*1e3}function Ts(t){return typeof t=="string"}function $e(t){return t!=null}function La(t){return t&&t.then}function Ss(t){return(t||document.body).getBoundingClientRect()}function Wa(t){return e=>new he(n=>{let i=r=>t.run(()=>n.next(r)),o=r=>t.run(()=>n.error(r)),s=()=>t.run(()=>n.complete());return e.subscribe({next:i,error:o,complete:s})})}var za=()=>{},{transitionTimerDelayMs:Ka}=ys,ui=new Map,Ue=(t,e,n,i)=>{let o=i.context||{},s=ui.get(e);if(s)switch(i.runningTransition){case"continue":return Pe;case"stop":t.run(()=>s.transition$.complete()),o=Object.assign(s.context,o),ui.delete(e)}let r=n(e,i.animation,o)||za;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return t.run(()=>r()),k(void 0).pipe(Wa(t));let a=new P,d=new P,h=a.pipe(so(!0));ui.set(e,{transition$:a,complete:()=>{d.next(),d.complete()},context:o});let c=$a(e);return t.runOutsideAngular(()=>{let l=ve(e,"transitionend").pipe(W(h),se(({target:p})=>p===e)),u=eo(c+Ka).pipe(W(h));to(u,l,d).pipe(W(h)).subscribe(()=>{ui.delete(e),t.run(()=>{r(),a.next(),a.complete()})})}),a.asObservable()};var ws=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({});let t=e;return t})();var Cs=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({});let t=e;return t})();var Ds=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({});let t=e;return t})(),Es=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({});let t=e;return t})();var Oe=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}(Oe||{});var Hu=(()=>{let t=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(t()||e()):!1})();var Ja=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Os(t){let e=Array.from(t.querySelectorAll(Ja)).filter(n=>n.tabIndex!==-1);return[e[0],e[e.length-1]]}var Za=(t,e,n,i=!1)=>{t.runOutsideAngular(()=>{let o=ve(e,"focusin").pipe(W(n),G(s=>s.target));ve(e,"keydown").pipe(W(n),se(s=>s.which===Oe.Tab),je(o)).subscribe(([s,r])=>{let[a,d]=Os(e);(r===a||r===e)&&s.shiftKey&&(d.focus(),s.preventDefault()),r===d&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&ve(e,"click").pipe(W(n),je(o),G(s=>s[1])).subscribe(s=>s.focus())})};var Gu=new Date(1882,10,12),Uu=new Date(2174,10,25);var $u=1e3*60*60*24;var yn=1080,Ya=24*yn,qa=12*yn+793,Lu=29*Ya+qa,Wu=11*yn+204;var Ms=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({});let t=e;return t})();var Is=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({});let t=e;return t})(),Qa=(()=>{let e=class e{constructor(){this._ngbConfig=m(bs),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ct=class{constructor(e,n,i){this.nodes=e,this.viewRef=n,this.componentRef=i}};var Xa=(()=>{let e=class e{constructor(){this._document=m(fe)}hide(){let i=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),o=this._document.body,s=o.style,{overflow:r,paddingRight:a}=s;if(i>0){let d=parseFloat(window.getComputedStyle(o).paddingRight);s.paddingRight=`${d+i}px`}return s.overflow="hidden",()=>{i>0&&(s.paddingRight=a),s.overflow=r}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ec=(()=>{let e=class e{constructor(){this._nativeElement=m(pe).nativeElement,this._zone=m(we)}ngOnInit(){this._zone.onStable.asObservable().pipe(be(1)).subscribe(()=>{Ue(this._zone,this._nativeElement,(i,o)=>{o&&Ss(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ue(this._zone,this._nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=U({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(o,s){o&2&&(re("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),De("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[$],decls:0,vars:0,template:function(o,s){},encapsulation:2});let t=e;return t})(),lt=class{update(e){}close(e){}dismiss(e){}},tc=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],ic=["animation","backdropClass"],_n=class{_applyWindowOptions(e,n){tc.forEach(i=>{$e(n[i])&&(e[i]=n[i])})}_applyBackdropOptions(e,n){ic.forEach(i=>{$e(n[i])&&(e[i]=n[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(W(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(W(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,n,i,o){this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new P,this._dismissed=new P,this._hidden=new P,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,r)=>{this._resolve=s,this._reject=r}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let n=this._beforeDismiss();La(n)?n.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):n!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():k(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Gt(e,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},vn=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(vn||{}),nc=(()=>{let e=class e{constructor(){this._document=m(fe),this._elRef=m(pe),this._zone=m(we),this._closed$=new P,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new X,this.shown=new P,this.hidden=new P}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":Ts(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(be(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:i}=this._elRef,o={animation:this.animation,runningTransition:"stop"},s=Ue(this._zone,i,()=>i.classList.remove("show"),o),r=Ue(this._zone,this._dialogEl.nativeElement,()=>{},o),a=Gt(s,r);return a.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),a}_show(){let i={animation:this.animation,runningTransition:"continue"},o=Ue(this._zone,this._elRef.nativeElement,(r,a)=>{a&&Ss(r),r.classList.add("show")},i),s=Ue(this._zone,this._dialogEl.nativeElement,()=>{},i);Gt(o,s).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{ve(i,"keydown").pipe(W(this._closed$),se(s=>s.which===Oe.Escape)).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(vn.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let o=!1;ve(this._dialogEl.nativeElement,"mousedown").pipe(W(this._closed$),q(()=>o=!1),Ae(()=>ve(i,"mouseup").pipe(W(this._closed$),be(1))),se(({target:s})=>i===s)).subscribe(()=>{o=!0}),ve(i,"click").pipe(W(this._closed$)).subscribe(({target:s})=>{i===s&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!o&&this._zone.run(()=>this.dismiss(vn.BACKDROP_CLICK))),o=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){let o=i.querySelector("[ngbAutofocus]"),s=Os(i)[0];(o||s||i).focus()}}_restoreFocus(){let i=this._document.body,o=this._elWithFocus,s;o&&o.focus&&i.contains(o)?s=o:s=i,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Ue(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=U({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(o,s){if(o&1&&yo(Ua,7),o&2){let r;St(r=wt())&&(s._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(o,s){o&2&&(ue("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),re("modal d-block"+(s.windowClass?" "+s.windowClass:"")),De("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[$],ngContentSelectors:Ga,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(o,s){o&1&&(_o(),T(0,"div",1,0)(2,"div",2),vo(3),S()()),o&2&&re("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let t=e;return t})(),oc=(()=>{let e=class e{constructor(){this._applicationRef=m(nt),this._injector=m(de),this._environmentInjector=m(zi),this._document=m(fe),this._scrollBar=m(Xa),this._activeWindowCmptHasChanged=new P,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new X;let i=m(we);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let o=this._windowCmpts[this._windowCmpts.length-1];Za(i,o.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(o.location.nativeElement)}})}_restoreScrollBar(){let i=this._scrollBarRestoreFn;i&&(this._scrollBarRestoreFn=null,i())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(i,o,s){let r=s.container instanceof HTMLElement?s.container:$e(s.container)?this._document.querySelector(s.container):this._document.body;if(!r)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let a=new lt;i=s.injector||i;let d=i.get(zi,null)||this._environmentInjector,h=this._getContentRef(i,d,o,a,s),c=s.backdrop!==!1?this._attachBackdrop(r):void 0,l=this._attachWindowComponent(r,h.nodes),u=new _n(l,h,c,s.beforeDismiss);return this._registerModalRef(u),this._registerWindowCmpt(l),u.hidden.pipe(be(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=p=>{u.close(p)},a.dismiss=p=>{u.dismiss(p)},a.update=p=>{u.update(p)},u.update(s),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),l.changeDetectorRef.detectChanges(),u}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(o=>o.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i){let o=Zt(ec,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_attachWindowComponent(i,o){let s=Zt(nc,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:o});return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_getContentRef(i,o,s,r,a){return s?s instanceof Yi?this._createFromTemplateRef(s,r):Ts(s)?this._createFromString(s):this._createFromComponent(i,o,s,r,a):new ct([])}_createFromTemplateRef(i,o){let s={$implicit:o,close(a){o.close(a)},dismiss(a){o.dismiss(a)}},r=i.createEmbeddedView(s);return this._applicationRef.attachView(r),new ct([r.rootNodes],r)}_createFromString(i){let o=this._document.createTextNode(`${i}`);return new ct([[o]])}_createFromComponent(i,o,s,r,a){let d=de.create({providers:[{provide:lt,useValue:r}],parent:i}),h=Zt(s,{environmentInjector:o,elementInjector:d}),c=h.location.nativeElement;return a.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(h.hostView),new ct([[c]],h.hostView,h)}_setAriaHidden(i){let o=i.parentElement;o&&i!==this._document.body&&(Array.from(o.children).forEach(s=>{s!==i&&s.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(o))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,o)=>{i?o.setAttribute("aria-hidden",i):o.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){let o=()=>{let s=this._modalRefs.indexOf(i);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(o,o)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{let o=this._windowCmpts.indexOf(i);o>-1&&(this._windowCmpts.splice(o,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bn=(()=>{let e=class e{constructor(){this._injector=m(de),this._modalStack=m(oc),this._config=m(Qa)}open(i,o={}){let s=y(R(y({},this._config),{animation:this._config.animation}),o);return this._modalStack.open(this._injector,i,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rs=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({providers:[bn]});let t=e;return t})(),sc=(()=>{let e=class e{constructor(){this._ngbConfig=m(bs),this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(i){this._animation=i}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ks=t=>$e(t)&&t!=="",rc=0,Tn=(()=>{let e=class e{constructor(){this.templateRef=m(Yi)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=z({type:e,selectors:[["ng-template","ngbNavContent",""]],standalone:!0});let t=e;return t})(),As=(()=>{let e=class e{constructor(i){this.role=i,this.nav=m(Ot)}};e.\u0275fac=function(o){return new(o||e)(Wt("role"))},e.\u0275dir=z({type:e,selectors:[["","ngbNavItem","",5,"ng-container"]],hostVars:1,hostBindings:function(o,s){o&2&&ue("role",s.role?s.role:s.nav.roles?"presentation":void 0)},standalone:!0});let t=e;return t})(),hi=(()=>{let e=class e{constructor(){this._nav=m(Ot),this._nativeElement=m(pe).nativeElement,this.disabled=!1,this.shown=new X,this.hidden=new X}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){$e(this.domId)||(this.domId=`ngb-nav-${rc++}`)}get active(){return this._nav.activeId===this.id}get id(){return ks(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return($e(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}isNgContainer(){return this._nativeElement.nodeType===Node.COMMENT_NODE}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=z({type:e,selectors:[["","ngbNavItem",""]],contentQueries:function(o,s,r){if(o&1&&zt(r,Tn,4),o&2){let a;St(a=wt())&&(s.contentTpls=a)}},hostVars:2,hostBindings:function(o,s){o&2&&De("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:[He.None,"ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"],standalone:!0});let t=e;return t})(),Ot=(()=>{let e=class e{constructor(i){this.role=i,this._config=m(sc),this._cd=m(Kt),this._document=m(fe),this._nativeElement=m(pe).nativeElement,this.destroyRef=m(Qe),this._navigatingWithKeyboard=!1,this.activeIdChange=new X,this.animation=this._config.animation,this.destroyOnHide=this._config.destroyOnHide,this.orientation=this._config.orientation,this.roles=this._config.roles,this.keyboard=this._config.keyboard,this.shown=new X,this.hidden=new X,this.navItemChange$=new P,this.navChange=new X}click(i){i.disabled||this._updateActiveId(i.id)}onFocusout({relatedTarget:i}){this._nativeElement.contains(i)||(this._navigatingWithKeyboard=!1)}onKeyDown(i){if(this.roles!=="tablist"||!this.keyboard)return;let o=i.which,s=this.links.filter(d=>!d.navItem.disabled),{length:r}=s,a=-1;if(s.forEach((d,h)=>{d.nativeElement===this._document.activeElement&&(a=h)}),r){switch(o){case Oe.ArrowUp:case Oe.ArrowLeft:a=(a-1+r)%r;break;case Oe.ArrowRight:case Oe.ArrowDown:a=(a+1)%r;break;case Oe.Home:a=0;break;case Oe.End:a=r-1;break}this.keyboard==="changeWithArrows"&&this.select(s[a].navItem.id),s[a].nativeElement.focus(),this._navigatingWithKeyboard=!0,i.preventDefault()}}select(i){this._updateActiveId(i,!1)}ngAfterContentInit(){if(!$e(this.activeId)){let i=this.items.first?this.items.first.id:null;ks(i)&&(this._updateActiveId(i,!1),this._cd.detectChanges())}this.items.changes.pipe(rn(this.destroyRef)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:i}){i&&!i.firstChange&&this._notifyItemChanged(i.currentValue)}_updateActiveId(i,o=!0){if(this.activeId!==i){let s=!1;o&&this.navChange.emit({activeId:this.activeId,nextId:i,preventDefault:()=>{s=!0}}),s||(this.activeId=i,this.activeIdChange.emit(i),this._notifyItemChanged(i))}}_notifyItemChanged(i){this.navItemChange$.next(this._getItemById(i))}_getItemById(i){return this.items&&this.items.find(o=>o.id===i)||null}};e.\u0275fac=function(o){return new(o||e)(Wt("role"))},e.\u0275dir=z({type:e,selectors:[["","ngbNav",""]],contentQueries:function(o,s,r){if(o&1&&(zt(r,hi,4),zt(r,pi,5)),o&2){let a;St(a=wt())&&(s.items=a),St(a=wt())&&(s.links=a)}},hostVars:6,hostBindings:function(o,s){o&1&&H("keydown.arrowLeft",function(a){return s.onKeyDown(a)})("keydown.arrowRight",function(a){return s.onKeyDown(a)})("keydown.arrowDown",function(a){return s.onKeyDown(a)})("keydown.arrowUp",function(a){return s.onKeyDown(a)})("keydown.Home",function(a){return s.onKeyDown(a)})("keydown.End",function(a){return s.onKeyDown(a)})("focusout",function(a){return s.onFocusout(a)}),o&2&&(ue("aria-orientation",s.orientation==="vertical"&&s.roles==="tablist"?"vertical":void 0)("role",s.role?s.role:s.roles?"tablist":void 0),De("nav",!0)("flex-column",s.orientation==="vertical"))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],standalone:!0,features:[Tt]});let t=e;return t})(),pi=(()=>{let e=class e{constructor(i){this.role=i,this.navItem=m(hi),this.nav=m(Ot),this.nativeElement=m(pe).nativeElement}get tabindex(){return this.nav.keyboard===!1?this.navItem.disabled?-1:void 0:this.nav._navigatingWithKeyboard||this.navItem.disabled||!this.navItem.active?-1:void 0}};e.\u0275fac=function(o){return new(o||e)(Wt("role"))},e.\u0275dir=z({type:e,selectors:[["","ngbNavLink",""]],hostVars:14,hostBindings:function(o,s){o&2&&(mo("id",s.navItem.domId),ue("role",s.role?s.role:s.nav.roles?"tab":void 0)("tabindex",s.tabindex)("aria-controls",s.navItem.isPanelInDom()?s.navItem.panelDomId:null)("aria-selected",s.navItem.active)("aria-disabled",s.navItem.disabled),De("nav-link",!0)("nav-item",s.navItem.isNgContainer())("active",s.navItem.active)("disabled",s.navItem.disabled))},standalone:!0});let t=e;return t})();var Ns=(()=>{let e=class e extends pi{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=qe(e)))(s||e)}})(),e.\u0275dir=z({type:e,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostBindings:function(o,s){o&1&&H("click",function(a){return s.nav.click(s.navItem),a.preventDefault()})},standalone:!0,features:[Ce]});let t=e;return t})();var fi=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({});let t=e;return t})();var Fs=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({});let t=e;return t})();var xs=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({});let t=e;return t})();var Ps=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({});let t=e;return t})();var Vs=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({});let t=e;return t})();var Bs=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({});let t=e;return t})();var js=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({});let t=e;return t})();var Hs=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({});let t=e;return t})();var Gs=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({});let t=e;return t})();var zu=new v("live announcer delay",{providedIn:"root",factory:()=>100});var Us=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({});let t=e;return t})();var $s=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({});let t=e;return t})(),ac=[ws,Cs,Ds,Es,Ms,Is,Rs,fi,$s,Fs,xs,Ps,Vs,Bs,js,Hs,Gs,Us],Ls=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=x({type:e}),e.\u0275inj=F({imports:[ac,ws,Cs,Ds,Es,Ms,Is,Rs,fi,$s,Fs,xs,Ps,Vs,Bs,js,Hs,Gs,Us]});let t=e;return t})();function me(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function An(t,e){return t(e={exports:{}},e.exports),e.exports}var Le=An(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function i(){var o=this;this.locked=new Map,this.addToLocked=function(s,r){var a=o.locked.get(s);a===void 0?r===void 0?o.locked.set(s,[]):o.locked.set(s,[r]):r!==void 0&&(a.unshift(r),o.locked.set(s,a))},this.isLocked=function(s){return o.locked.has(s)},this.lock=function(s){return new Promise(function(r,a){o.isLocked(s)?o.addToLocked(s,r):(o.addToLocked(s),r())})},this.unlock=function(s){var r=o.locked.get(s);if(r!==void 0&&r.length!==0){var a=r.pop();o.locked.set(s,r),a!==void 0&&setTimeout(a,0)}else o.locked.delete(s)}}return i.getInstance=function(){return i.instance===void 0&&(i.instance=new i),i.instance},i}();e.default=function(){return n.getInstance()}});kn(Le);var cc=kn(An(function(t,e){var n=We&&We.__awaiter||function(c,l,u,p){return new(u||(u=Promise))(function(f,M){function b(A){try{V(p.next(A))}catch(_){M(_)}}function N(A){try{V(p.throw(A))}catch(_){M(_)}}function V(A){A.done?f(A.value):new u(function(_){_(A.value)}).then(b,N)}V((p=p.apply(c,l||[])).next())})},i=We&&We.__generator||function(c,l){var u,p,f,M,b={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return M={next:N(0),throw:N(1),return:N(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function N(V){return function(A){return function(_){if(u)throw new TypeError("Generator is already executing.");for(;b;)try{if(u=1,p&&(f=2&_[0]?p.return:_[0]?p.throw||((f=p.return)&&f.call(p),0):p.next)&&!(f=f.call(p,_[1])).done)return f;switch(p=0,f&&(_=[2&_[0],f.value]),_[0]){case 0:case 1:f=_;break;case 4:return b.label++,{value:_[1],done:!1};case 5:b.label++,p=_[1],_=[0];continue;case 7:_=b.ops.pop(),b.trys.pop();continue;default:if(f=b.trys,!((f=f.length>0&&f[f.length-1])||_[0]!==6&&_[0]!==2)){b=0;continue}if(_[0]===3&&(!f||_[1]>f[0]&&_[1]<f[3])){b.label=_[1];break}if(_[0]===6&&b.label<f[1]){b.label=f[1],f=_;break}if(f&&b.label<f[2]){b.label=f[2],b.ops.push(_);break}f[2]&&b.ops.pop(),b.trys.pop();continue}_=l.call(c,b)}catch(ne){_=[6,ne],p=0}finally{u=f=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([V,A])}}},o=We;Object.defineProperty(e,"__esModule",{value:!0});var s="browser-tabs-lock-key",r={key:function(c){return n(o,void 0,void 0,function(){return i(this,function(l){throw new Error("Unsupported")})})},getItem:function(c){return n(o,void 0,void 0,function(){return i(this,function(l){throw new Error("Unsupported")})})},clear:function(){return n(o,void 0,void 0,function(){return i(this,function(c){return[2,window.localStorage.clear()]})})},removeItem:function(c){return n(o,void 0,void 0,function(){return i(this,function(l){throw new Error("Unsupported")})})},setItem:function(c,l){return n(o,void 0,void 0,function(){return i(this,function(u){throw new Error("Unsupported")})})},keySync:function(c){return window.localStorage.key(c)},getItemSync:function(c){return window.localStorage.getItem(c)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(c){return window.localStorage.removeItem(c)},setItemSync:function(c,l){return window.localStorage.setItem(c,l)}};function a(c){return new Promise(function(l){return setTimeout(l,c)})}function d(c){for(var l="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",u="",p=0;p<c;p++)u+=l[Math.floor(Math.random()*l.length)];return u}var h=function(){function c(l){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+d(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=l,c.waiters===void 0&&(c.waiters=[])}return c.prototype.acquireLock=function(l,u){return u===void 0&&(u=5e3),n(this,void 0,void 0,function(){var p,f,M,b,N,V,A;return i(this,function(_){switch(_.label){case 0:p=Date.now()+d(4),f=Date.now()+u,M=s+"-"+l,b=this.storageHandler===void 0?r:this.storageHandler,_.label=1;case 1:return Date.now()<f?[4,a(30)]:[3,8];case 2:return _.sent(),b.getItemSync(M)!==null?[3,5]:(N=this.id+"-"+l+"-"+p,[4,a(Math.floor(25*Math.random()))]);case 3:return _.sent(),b.setItemSync(M,JSON.stringify({id:this.id,iat:p,timeoutKey:N,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,a(30)];case 4:return _.sent(),(V=b.getItemSync(M))!==null&&(A=JSON.parse(V)).id===this.id&&A.iat===p?(this.acquiredIatSet.add(p),this.refreshLockWhileAcquired(M,p),[2,!0]):[3,7];case 5:return c.lockCorrector(this.storageHandler===void 0?r:this.storageHandler),[4,this.waitForSomethingToChange(f)];case 6:_.sent(),_.label=7;case 7:return p=Date.now()+d(4),[3,1];case 8:return[2,!1]}})})},c.prototype.refreshLockWhileAcquired=function(l,u){return n(this,void 0,void 0,function(){var p=this;return i(this,function(f){return setTimeout(function(){return n(p,void 0,void 0,function(){var M,b,N;return i(this,function(V){switch(V.label){case 0:return[4,Le.default().lock(u)];case 1:return V.sent(),this.acquiredIatSet.has(u)?(M=this.storageHandler===void 0?r:this.storageHandler,(b=M.getItemSync(l))===null?(Le.default().unlock(u),[2]):((N=JSON.parse(b)).timeRefreshed=Date.now(),M.setItemSync(l,JSON.stringify(N)),Le.default().unlock(u),this.refreshLockWhileAcquired(l,u),[2])):(Le.default().unlock(u),[2])}})})},1e3),[2]})})},c.prototype.waitForSomethingToChange=function(l){return n(this,void 0,void 0,function(){return i(this,function(u){switch(u.label){case 0:return[4,new Promise(function(p){var f=!1,M=Date.now(),b=!1;function N(){if(b||(window.removeEventListener("storage",N),c.removeFromWaiting(N),clearTimeout(V),b=!0),!f){f=!0;var A=50-(Date.now()-M);A>0?setTimeout(p,A):p(null)}}window.addEventListener("storage",N),c.addToWaiting(N);var V=setTimeout(N,Math.max(0,l-Date.now()))})];case 1:return u.sent(),[2]}})})},c.addToWaiting=function(l){this.removeFromWaiting(l),c.waiters!==void 0&&c.waiters.push(l)},c.removeFromWaiting=function(l){c.waiters!==void 0&&(c.waiters=c.waiters.filter(function(u){return u!==l}))},c.notifyWaiters=function(){c.waiters!==void 0&&c.waiters.slice().forEach(function(l){return l()})},c.prototype.releaseLock=function(l){return n(this,void 0,void 0,function(){return i(this,function(u){switch(u.label){case 0:return[4,this.releaseLock__private__(l)];case 1:return[2,u.sent()]}})})},c.prototype.releaseLock__private__=function(l){return n(this,void 0,void 0,function(){var u,p,f,M;return i(this,function(b){switch(b.label){case 0:return u=this.storageHandler===void 0?r:this.storageHandler,p=s+"-"+l,(f=u.getItemSync(p))===null?[2]:(M=JSON.parse(f)).id!==this.id?[3,2]:[4,Le.default().lock(M.iat)];case 1:b.sent(),this.acquiredIatSet.delete(M.iat),u.removeItemSync(p),Le.default().unlock(M.iat),c.notifyWaiters(),b.label=2;case 2:return[2]}})})},c.lockCorrector=function(l){for(var u=Date.now()-5e3,p=l,f=[],M=0;;){var b=p.keySync(M);if(b===null)break;f.push(b),M++}for(var N=!1,V=0;V<f.length;V++){var A=f[V];if(A.includes(s)){var _=p.getItemSync(A);if(_!==null){var ne=JSON.parse(_);(ne.timeRefreshed===void 0&&ne.timeAcquired<u||ne.timeRefreshed!==void 0&&ne.timeRefreshed<u)&&(p.removeItemSync(A),N=!0)}}}N&&c.notifyWaiters()},c.waiters=void 0,c}();e.default=h})),lc={timeoutInSeconds:60},Xs={name:"auth0-spa-js",version:"2.1.3"},er=()=>Date.now(),Z=class t extends Error{constructor(e,n){super(n),this.error=e,this.error_description=n,Object.setPrototypeOf(this,t.prototype)}static fromPayload({error:e,error_description:n}){return new t(e,n)}},_i=class t extends Z{constructor(e,n,i,o=null){super(e,n),this.state=i,this.appState=o,Object.setPrototypeOf(this,t.prototype)}},ut=class t extends Z{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,t.prototype)}},vi=class t extends ut{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,t.prototype)}},yi=class t extends Z{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,t.prototype)}},bi=class t extends Z{constructor(e,n,i){super(e,n),this.mfa_token=i,Object.setPrototypeOf(this,t.prototype)}},It=class t extends Z{constructor(e,n){super("missing_refresh_token",`Missing Refresh Token (audience: '${Ws(e,["default"])}', scope: '${Ws(n)}')`),this.audience=e,this.scope=n,Object.setPrototypeOf(this,t.prototype)}};function Ws(t,e=[]){return t&&!e.includes(t)?t:""}var gi=()=>window.crypto,wn=()=>{let t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",e="";return Array.from(gi().getRandomValues(new Uint8Array(43))).forEach(n=>e+=t[n%t.length]),e},zs=t=>btoa(t),On=t=>{var{clientId:e}=t,n=me(t,["clientId"]);return new URLSearchParams((i=>Object.keys(i).filter(o=>i[o]!==void 0).reduce((o,s)=>Object.assign(Object.assign({},o),{[s]:i[s]}),{}))(Object.assign({client_id:e},n))).toString()},Ks=t=>(e=>decodeURIComponent(atob(e).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join("")))(t.replace(/_/g,"/").replace(/-/g,"+")),dc=(t,e)=>D(void 0,null,function*(){let n=yield fetch(t,e);return{ok:n.ok,json:yield n.json()}}),uc=(t,e,n)=>D(void 0,null,function*(){let i=new AbortController,o;return e.signal=i.signal,Promise.race([dc(t,e),new Promise((s,r)=>{o=setTimeout(()=>{i.abort(),r(new Error("Timeout when executing 'fetch'"))},n)})]).finally(()=>{clearTimeout(o)})}),hc=(t,e,n,i,o,s,r)=>D(void 0,null,function*(){return a={auth:{audience:e,scope:n},timeout:o,fetchUrl:t,fetchOptions:i,useFormData:r},d=s,new Promise(function(h,c){let l=new MessageChannel;l.port1.onmessage=function(u){u.data.error?c(new Error(u.data.error)):h(u.data),l.port1.close()},d.postMessage(a,[l.port2])});var a,d}),pc=(t,e,n,i,o,s,r=1e4)=>D(void 0,null,function*(){return o?hc(t,e,n,i,r,o,s):uc(t,i,r)});function fc(t,e){return D(this,null,function*(){var{baseUrl:n,timeout:i,audience:o,scope:s,auth0Client:r,useFormData:a}=t,d=me(t,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);let h=a?On(d):JSON.stringify(d);return yield function(c,l,u,p,f,M,b){return D(this,null,function*(){let N,V=null;for(let ke=0;ke<3;ke++)try{N=yield pc(c,u,p,f,M,b,l),V=null;break}catch(sa){V=sa}if(V)throw V;let A=N.json,{error:_,error_description:ne}=A,Ht=me(A,["error","error_description"]),{ok:_e}=N;if(!_e){let ke=ne||`HTTP error. Unable to fetch ${c}`;throw _==="mfa_required"?new bi(_,ke,Ht.mfa_token):_==="missing_refresh_token"?new It(u,p):new Z(_||"request_error",ke)}return Ht})}(`${n}/oauth/token`,i,o||"default",s,{method:"POST",body:h,headers:{"Content-Type":a?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(r||Xs))}},e,a)})}var mi=(...t)=>{return(e=t.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e},Me=class t{constructor(e,n="@@auth0spajs@@",i){this.prefix=n,this.suffix=i,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){let[n,i,o,s]=e.split("::");return new t({clientId:i,scope:s,audience:o},n)}static fromCacheEntry(e){let{scope:n,audience:i,client_id:o}=e;return new t({scope:n,audience:i,clientId:o})}},Ti=class{set(e,n){localStorage.setItem(e,JSON.stringify(n))}get(e){let n=window.localStorage.getItem(e);if(n)try{return JSON.parse(n)}catch{return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter(e=>e.startsWith("@@auth0spajs@@"))}},Rt=class{constructor(){this.enclosedCache=function(){let e={};return{set(n,i){e[n]=i},get(n){let i=e[n];if(i)return i},remove(n){delete e[n]},allKeys:()=>Object.keys(e)}}()}},Mn=class{constructor(e,n,i){this.cache=e,this.keyManifest=n,this.nowProvider=i||er}setIdToken(e,n,i){return D(this,null,function*(){var o;let s=this.getIdTokenCacheKey(e);yield this.cache.set(s,{id_token:n,decodedToken:i}),yield(o=this.keyManifest)===null||o===void 0?void 0:o.add(s)})}getIdToken(e){return D(this,null,function*(){let n=yield this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!n&&e.scope&&e.audience){let i=yield this.get(e);return!i||!i.id_token||!i.decodedToken?void 0:{id_token:i.id_token,decodedToken:i.decodedToken}}if(n)return{id_token:n.id_token,decodedToken:n.decodedToken}})}get(e,n=0){return D(this,null,function*(){var i;let o=yield this.cache.get(e.toKey());if(!o){let a=yield this.getCacheKeys();if(!a)return;let d=this.matchExistingCacheKey(e,a);d&&(o=yield this.cache.get(d))}if(!o)return;let s=yield this.nowProvider(),r=Math.floor(s/1e3);return o.expiresAt-n<r?o.body.refresh_token?(o.body={refresh_token:o.body.refresh_token},yield this.cache.set(e.toKey(),o),o.body):(yield this.cache.remove(e.toKey()),void(yield(i=this.keyManifest)===null||i===void 0?void 0:i.remove(e.toKey()))):o.body})}set(e){return D(this,null,function*(){var n;let i=new Me({clientId:e.client_id,scope:e.scope,audience:e.audience}),o=yield this.wrapCacheEntry(e);yield this.cache.set(i.toKey(),o),yield(n=this.keyManifest)===null||n===void 0?void 0:n.add(i.toKey())})}clear(e){return D(this,null,function*(){var n;let i=yield this.getCacheKeys();i&&(yield i.filter(o=>!e||o.includes(e)).reduce((o,s)=>D(this,null,function*(){yield o,yield this.cache.remove(s)}),Promise.resolve()),yield(n=this.keyManifest)===null||n===void 0?void 0:n.clear())})}wrapCacheEntry(e){return D(this,null,function*(){let n=yield this.nowProvider();return{body:e,expiresAt:Math.floor(n/1e3)+e.expires_in}})}getCacheKeys(){return D(this,null,function*(){var e;return this.keyManifest?(e=yield this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0})}getIdTokenCacheKey(e){return new Me({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,n){return n.filter(i=>{var o;let s=Me.fromKey(i),r=new Set(s.scope&&s.scope.split(" ")),a=((o=e.scope)===null||o===void 0?void 0:o.split(" "))||[],d=s.scope&&a.reduce((h,c)=>h&&r.has(c),!0);return s.prefix==="@@auth0spajs@@"&&s.clientId===e.clientId&&s.audience===e.audience&&d})[0]}},In=class{constructor(e,n,i){this.storage=e,this.clientId=n,this.cookieDomain=i,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}},Mt=t=>typeof t=="number",mc=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],gc=t=>{if(!t.id_token)throw new Error("ID token is required but missing");let e=(s=>{let r=s.split("."),[a,d,h]=r;if(r.length!==3||!a||!d||!h)throw new Error("ID token could not be decoded");let c=JSON.parse(Ks(d)),l={__raw:s},u={};return Object.keys(c).forEach(p=>{l[p]=c[p],mc.includes(p)||(u[p]=c[p])}),{encoded:{header:a,payload:d,signature:h},header:JSON.parse(Ks(a)),claims:l,user:u}})(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${t.iss}", found "${e.claims.iss}"`);if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error(`Signature algorithm of "${e.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${t.aud}" but was not one of "${e.claims.aud.join(", ")}"`);if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${t.aud}", found "${e.claims.azp}"`)}}else if(e.claims.aud!==t.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${t.aud}" but found "${e.claims.aud}"`);if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${t.nonce}", found "${e.claims.nonce}"`)}if(t.max_age&&!Mt(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!Mt(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Mt(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");let n=t.leeway||60,i=new Date(t.now||Date.now()),o=new Date(0);if(o.setUTCSeconds(e.claims.exp+n),i>o)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${i}) is after expiration time (${o})`);if(e.claims.nbf!=null&&Mt(e.claims.nbf)){let s=new Date(0);if(s.setUTCSeconds(e.claims.nbf-n),i<s)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${i}) is before ${s}`)}if(e.claims.auth_time!=null&&Mt(e.claims.auth_time)){let s=new Date(0);if(s.setUTCSeconds(parseInt(e.claims.auth_time)+t.max_age+n),i>s)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${i}) is after last auth at ${s}`)}if(t.organization){let s=t.organization.trim();if(s.startsWith("org_")){let r=s;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(r!==e.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${r}", found "${e.claims.org_id}"`)}else{let r=s.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(r!==e.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${r}", found "${e.claims.org_name}"`)}}return e},ze=An(function(t,e){var n=We&&We.__assign||function(){return n=Object.assign||function(d){for(var h,c=1,l=arguments.length;c<l;c++)for(var u in h=arguments[c])Object.prototype.hasOwnProperty.call(h,u)&&(d[u]=h[u]);return d},n.apply(this,arguments)};function i(d,h){if(!h)return"";var c="; "+d;return h===!0?c:c+"="+h}function o(d,h,c){return encodeURIComponent(d).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(h).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(l){if(typeof l.expires=="number"){var u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*l.expires),l.expires=u}return i("Expires",l.expires?l.expires.toUTCString():"")+i("Domain",l.domain)+i("Path",l.path)+i("Secure",l.secure)+i("SameSite",l.sameSite)}(c)}function s(d){for(var h={},c=d?d.split("; "):[],l=/(%[\dA-F]{2})+/gi,u=0;u<c.length;u++){var p=c[u].split("="),f=p.slice(1).join("=");f.charAt(0)==='"'&&(f=f.slice(1,-1));try{h[p[0].replace(l,decodeURIComponent)]=f.replace(l,decodeURIComponent)}catch{}}return h}function r(){return s(document.cookie)}function a(d,h,c){document.cookie=o(d,h,n({path:"/"},c))}e.__esModule=!0,e.encode=o,e.parse=s,e.getAll=r,e.get=function(d){return r()[d]},e.set=a,e.remove=function(d,h){a(d,"",n(n({},h),{expires:-1}))}});kn(ze),ze.encode,ze.parse,ze.getAll;var _c=ze.get,tr=ze.set,ir=ze.remove,dt={get(t){let e=_c(t);if(e!==void 0)return JSON.parse(e)},save(t,e,n){let i={};window.location.protocol==="https:"&&(i={secure:!0,sameSite:"none"}),n?.daysUntilExpire&&(i.expires=n.daysUntilExpire),n?.cookieDomain&&(i.domain=n.cookieDomain),tr(t,JSON.stringify(e),i)},remove(t,e){let n={};e?.cookieDomain&&(n.domain=e.cookieDomain),ir(t,n)}},vc={get(t){return dt.get(t)||dt.get(`_legacy_${t}`)},save(t,e,n){let i={};window.location.protocol==="https:"&&(i={secure:!0}),n?.daysUntilExpire&&(i.expires=n.daysUntilExpire),n?.cookieDomain&&(i.domain=n.cookieDomain),tr(`_legacy_${t}`,JSON.stringify(e),i),dt.save(t,e,n)},remove(t,e){let n={};e?.cookieDomain&&(n.domain=e.cookieDomain),ir(t,n),dt.remove(t,e),dt.remove(`_legacy_${t}`,e)}},yc={get(t){if(typeof sessionStorage>"u")return;let e=sessionStorage.getItem(t);return e!=null?JSON.parse(e):void 0},save(t,e){sessionStorage.setItem(t,JSON.stringify(e))},remove(t){sessionStorage.removeItem(t)}};function bc(t,e,n){var i=e===void 0?null:e,o=function(d,h){var c=atob(d);if(h){for(var l=new Uint8Array(c.length),u=0,p=c.length;u<p;++u)l[u]=c.charCodeAt(u);return String.fromCharCode.apply(null,new Uint16Array(l.buffer))}return c}(t,n!==void 0&&n),s=o.indexOf(`
`,10)+1,r=o.substring(s)+(i?"//# sourceMappingURL="+i:""),a=new Blob([r],{type:"application/javascript"});return URL.createObjectURL(a)}var Js,Zs,Ys,Cn,Tc=(Js="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",Zs=null,Ys=!1,function(t){return Cn=Cn||bc(Js,Zs,Ys),new Worker(Cn,t)}),Dn={},Rn=class{constructor(e,n){this.cache=e,this.clientId=n,this.manifestKey=this.createManifestKeyFrom(this.clientId)}add(e){return D(this,null,function*(){var n;let i=new Set(((n=yield this.cache.get(this.manifestKey))===null||n===void 0?void 0:n.keys)||[]);i.add(e),yield this.cache.set(this.manifestKey,{keys:[...i]})})}remove(e){return D(this,null,function*(){let n=yield this.cache.get(this.manifestKey);if(n){let i=new Set(n.keys);return i.delete(e),i.size>0?yield this.cache.set(this.manifestKey,{keys:[...i]}):yield this.cache.remove(this.manifestKey)}})}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}},Sc={memory:()=>new Rt().enclosedCache,localstorage:()=>new Ti},qs=t=>Sc[t],Qs=t=>{let{openUrl:e,onRedirect:n}=t,i=me(t,["openUrl","onRedirect"]);return Object.assign(Object.assign({},i),{openUrl:e===!1||e?e:n})},En=new cc,Si=class{constructor(e){let n,i;if(this.userCache=new Rt().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=()=>D(this,null,function*(){yield En.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}),this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!gi())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(gi().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)i=e.cache;else{if(n=e.cacheLocation||"memory",!qs(n))throw new Error(`Invalid cache location "${n}"`);i=qs(n)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?dt:vc,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(r=>`auth0.${r}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;let o=e.useCookiesForTransactions?this.cookieStorage:yc;var s;this.scope=mi("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new In(o,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||er,this.cacheManager=new Mn(i,i.allKeys?void 0:new Rn(i,this.options.clientId),this.nowProvider),this.domainUrl=(s=this.options.domain,/^https?:\/\//.test(s)?s:`https://${s}`),this.tokenIssuer=((r,a)=>r?r.startsWith("https://")?r:`https://${r}/`:`${a}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&n==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new Tc)}_url(e){let n=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||Xs)));return`${this.domainUrl}${e}&auth0Client=${n}`}_authorizeUrl(e){return this._url(`/authorize?${On(e)}`)}_verifyIdToken(e,n,i){return D(this,null,function*(){let o=yield this.nowProvider();return gc({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:n,organization:i,leeway:this.options.leeway,max_age:(s=this.options.authorizationParams.max_age,typeof s!="string"?s:parseInt(s,10)||void 0),now:o});var s})}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}_prepareAuthorizeUrl(e,n,i){return D(this,null,function*(){let o=zs(wn()),s=zs(wn()),r=wn(),a=(c=>{let l=new Uint8Array(c);return(u=>{let p={"+":"-","/":"_","=":""};return u.replace(/[+/=]/g,f=>p[f])})(window.btoa(String.fromCharCode(...Array.from(l))))})(yield(c=>D(this,null,function*(){return yield gi().subtle.digest({name:"SHA-256"},new TextEncoder().encode(c))}))(r)),d=((c,l,u,p,f,M,b,N)=>Object.assign(Object.assign(Object.assign({client_id:c.clientId},c.authorizationParams),u),{scope:mi(l,u.scope),response_type:"code",response_mode:N||"query",state:p,nonce:f,redirect_uri:b||c.authorizationParams.redirect_uri,code_challenge:M,code_challenge_method:"S256"}))(this.options,this.scope,e,o,s,a,e.redirect_uri||this.options.authorizationParams.redirect_uri||i,n?.response_mode),h=this._authorizeUrl(d);return{nonce:s,code_verifier:r,scope:d.scope,audience:d.audience||"default",redirect_uri:d.redirect_uri,state:o,url:h}})}loginWithPopup(e,n){return D(this,null,function*(){var i;if(e=e||{},!(n=n||{}).popup&&(n.popup=(a=>{let d=window.screenX+(window.innerWidth-400)/2,h=window.screenY+(window.innerHeight-600)/2;return window.open(a,"auth0:authorize:popup",`left=${d},top=${h},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!n.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");let o=yield this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);n.popup.location.href=o.url;let s=yield(a=>new Promise((d,h)=>{let c,l=setInterval(()=>{a.popup&&a.popup.closed&&(clearInterval(l),clearTimeout(u),window.removeEventListener("message",c,!1),h(new yi(a.popup)))},1e3),u=setTimeout(()=>{clearInterval(l),h(new vi(a.popup)),window.removeEventListener("message",c,!1)},1e3*(a.timeoutInSeconds||60));c=function(p){if(p.data&&p.data.type==="authorization_response"){if(clearTimeout(u),clearInterval(l),window.removeEventListener("message",c,!1),a.popup.close(),p.data.response.error)return h(Z.fromPayload(p.data.response));d(p.data.response)}},window.addEventListener("message",c)}))(Object.assign(Object.assign({},n),{timeoutInSeconds:n.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(o.state!==s.state)throw new Z("state_mismatch","Invalid state");let r=((i=e.authorizationParams)===null||i===void 0?void 0:i.organization)||this.options.authorizationParams.organization;yield this._requestToken({audience:o.audience,scope:o.scope,code_verifier:o.code_verifier,grant_type:"authorization_code",code:s.code,redirect_uri:o.redirect_uri},{nonceIn:o.nonce,organization:r})})}getUser(){return D(this,null,function*(){var e;let n=yield this._getIdTokenFromCache();return(e=n?.decodedToken)===null||e===void 0?void 0:e.user})}getIdTokenClaims(){return D(this,null,function*(){var e;let n=yield this._getIdTokenFromCache();return(e=n?.decodedToken)===null||e===void 0?void 0:e.claims})}loginWithRedirect(){return D(this,arguments,function*(e={}){var n;let i=Qs(e),{openUrl:o,fragment:s,appState:r}=i,a=me(i,["openUrl","fragment","appState"]),d=((n=a.authorizationParams)===null||n===void 0?void 0:n.organization)||this.options.authorizationParams.organization,h=yield this._prepareAuthorizeUrl(a.authorizationParams||{}),{url:c}=h,l=me(h,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},l),{appState:r}),d&&{organization:d}));let u=s?`${c}#${s}`:c;o?yield o(u):window.location.assign(u)})}handleRedirectCallback(){return D(this,arguments,function*(e=window.location.href){let n=e.split("?").slice(1);if(n.length===0)throw new Error("There are no query params available for parsing.");let{state:i,code:o,error:s,error_description:r}=(l=>{l.indexOf("#")>-1&&(l=l.substring(0,l.indexOf("#")));let u=new URLSearchParams(l);return{state:u.get("state"),code:u.get("code")||void 0,error:u.get("error")||void 0,error_description:u.get("error_description")||void 0}})(n.join("")),a=this.transactionManager.get();if(!a)throw new Z("missing_transaction","Invalid state");if(this.transactionManager.remove(),s)throw new _i(s,r||s,i,a.appState);if(!a.code_verifier||a.state&&a.state!==i)throw new Z("state_mismatch","Invalid state");let d=a.organization,h=a.nonce,c=a.redirect_uri;return yield this._requestToken(Object.assign({audience:a.audience,scope:a.scope,code_verifier:a.code_verifier,grant_type:"authorization_code",code:o},c?{redirect_uri:c}:{}),{nonceIn:h,organization:d}),{appState:a.appState}})}checkSession(e){return D(this,null,function*(){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{yield this.getTokenSilently(e)}catch{}})}getTokenSilently(){return D(this,arguments,function*(e={}){var n;let i=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:mi(this.scope,(n=e.authorizationParams)===null||n===void 0?void 0:n.scope)})}),o=yield((s,r)=>{let a=Dn[r];return a||(a=s().finally(()=>{delete Dn[r],a=null}),Dn[r]=a),a})(()=>this._getTokenSilently(i),`${this.options.clientId}::${i.authorizationParams.audience}::${i.authorizationParams.scope}`);return e.detailedResponse?o:o?.access_token})}_getTokenSilently(e){return D(this,null,function*(){let{cacheMode:n}=e,i=me(e,["cacheMode"]);if(n!=="off"){let o=yield this._getEntryFromCache({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId});if(o)return o}if(n!=="cache-only"){if(!(yield((o,s=3)=>D(this,null,function*(){for(let r=0;r<s;r++)if(yield o())return!0;return!1}))(()=>En.acquireLock("auth0.lock.getTokenSilently",5e3),10)))throw new ut;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),n!=="off"){let h=yield this._getEntryFromCache({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId});if(h)return h}let o=this.options.useRefreshTokens?yield this._getTokenUsingRefreshToken(i):yield this._getTokenFromIFrame(i),{id_token:s,access_token:r,oauthTokenScope:a,expires_in:d}=o;return Object.assign(Object.assign({id_token:s,access_token:r},a?{scope:a}:null),{expires_in:d})}finally{yield En.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}})}getTokenWithPopup(){return D(this,arguments,function*(e={},n={}){var i;let o=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:mi(this.scope,(i=e.authorizationParams)===null||i===void 0?void 0:i.scope)})});return n=Object.assign(Object.assign({},lc),n),yield this.loginWithPopup(o,n),(yield this.cacheManager.get(new Me({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token})}isAuthenticated(){return D(this,null,function*(){return!!(yield this.getUser())})}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;let n=e.logoutParams||{},{federated:i}=n,o=me(n,["federated"]),s=i?"&federated":"";return this._url(`/v2/logout?${On(Object.assign({clientId:e.clientId},o))}`)+s}logout(){return D(this,arguments,function*(e={}){let n=Qs(e),{openUrl:i}=n,o=me(n,["openUrl"]);e.clientId===null?yield this.cacheManager.clear():yield this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");let s=this._buildLogoutUrl(o);i?yield i(s):i!==!1&&window.location.assign(s)})}_getTokenFromIFrame(e){return D(this,null,function*(){let n=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),i=this.cookieStorage.get(this.orgHintCookieName);i&&!n.organization&&(n.organization=i);let{url:o,state:s,nonce:r,code_verifier:a,redirect_uri:d,scope:h,audience:c}=yield this._prepareAuthorizeUrl(n,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Z("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");let l=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,u=yield((f,M,b=60)=>new Promise((N,V)=>{let A=window.document.createElement("iframe");A.setAttribute("width","0"),A.setAttribute("height","0"),A.style.display="none";let _=()=>{window.document.body.contains(A)&&(window.document.body.removeChild(A),window.removeEventListener("message",ne,!1))},ne,Ht=setTimeout(()=>{V(new ut),_()},1e3*b);ne=function(_e){if(_e.origin!=M||!_e.data||_e.data.type!=="authorization_response")return;let ke=_e.source;ke&&ke.close(),_e.data.response.error?V(Z.fromPayload(_e.data.response)):N(_e.data.response),clearTimeout(Ht),window.removeEventListener("message",ne,!1),setTimeout(_,2e3)},window.addEventListener("message",ne,!1),window.document.body.appendChild(A),A.setAttribute("src",f)}))(o,this.domainUrl,l);if(s!==u.state)throw new Z("state_mismatch","Invalid state");let p=yield this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:a,code:u.code,grant_type:"authorization_code",redirect_uri:d,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:r,organization:n.organization});return Object.assign(Object.assign({},p),{scope:h,oauthTokenScope:p.scope,audience:c})}catch(l){throw l.error==="login_required"&&this.logout({openUrl:!1}),l}})}_getTokenUsingRefreshToken(e){return D(this,null,function*(){let n=yield this.cacheManager.get(new Me({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(n&&n.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(e);throw new It(e.authorizationParams.audience||"default",e.authorizationParams.scope)}let i=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,o=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null;try{let s=yield this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:n&&n.refresh_token,redirect_uri:i}),o&&{timeout:o}));return Object.assign(Object.assign({},s),{scope:e.authorizationParams.scope,oauthTokenScope:s.scope,audience:e.authorizationParams.audience||"default"})}catch(s){if((s.message.indexOf("Missing Refresh Token")>-1||s.message&&s.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(e);throw s}})}_saveEntryInCache(e){return D(this,null,function*(){let{id_token:n,decodedToken:i}=e,o=me(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:n,decodedToken:i}),yield this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),yield this.cacheManager.set(o)})}_getIdTokenFromCache(){return D(this,null,function*(){let e=this.options.authorizationParams.audience||"default",n=yield this.cacheManager.getIdToken(new Me({clientId:this.options.clientId,audience:e,scope:this.scope})),i=this.userCache.get("@@user@@");return n&&n.id_token===i?.id_token?i:(this.userCache.set("@@user@@",n),n)})}_getEntryFromCache(o){return D(this,arguments,function*({scope:e,audience:n,clientId:i}){let s=yield this.cacheManager.get(new Me({scope:e,audience:n,clientId:i}),60);if(s&&s.access_token){let{access_token:r,oauthTokenScope:a,expires_in:d}=s,h=yield this._getIdTokenFromCache();return h&&Object.assign(Object.assign({id_token:h.id_token,access_token:r},a?{scope:a}:null),{expires_in:d})}})}_requestToken(e,n){return D(this,null,function*(){let{nonceIn:i,organization:o}=n||{},s=yield fc(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),r=yield this._verifyIdToken(s.id_token,i,o);return yield this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},s),{decodedToken:r,scope:e.scope,audience:e.audience||"default"}),s.scope?{oauthTokenScope:s.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(o||r.claims.org_id),Object.assign(Object.assign({},s),{decodedToken:r})})}};var nr={name:"@auth0/auth0-angular",version:"2.2.3"},Nn=class{static createClient(e){let n=e.get();if(!n)throw new Error("Configuration must be specified either through AuthModule.forRoot or through AuthClientConfig.set");return new Si(R(y({},n),{auth0Client:{name:nr.name,version:nr.version,env:{"angular/core":bo.full}}}))}},wi=new v("auth0.client");function or(t){return typeof t!="string"}var Ci=new v("auth0-angular.config"),Fn=(()=>{class t{constructor(n){n&&this.set(n)}set(n){this.config=n}get(){return this.config}}return t.\u0275fac=function(n){return new(n||t)(g(Ci,8))},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),wc=(()=>{class t{constructor(n,i){this.location=n;try{this.router=i.get(Xt)}catch{}}navigateByUrl(n){if(this.router){this.router.navigateByUrl(n);return}this.location.replaceState(n)}}return t.\u0275fac=function(n){return new(n||t)(g(wo),g(de))},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),rr=(()=>{class t{constructor(n){this.auth0Client=n,this.isLoadingSubject$=new xe(!0),this.refresh$=new P,this.accessToken$=new _t(1),this.errorSubject$=new _t(1),this.isLoading$=this.isLoadingSubject$.asObservable(),this.accessTokenTrigger$=this.accessToken$.pipe($t((i,o)=>({previous:i.current,current:o}),{current:null,previous:null}),se(({previous:i,current:o})=>i!==o)),this.isAuthenticatedTrigger$=this.isLoading$.pipe(se(i=>!i),Be(),Ae(()=>Je(yt(()=>this.auth0Client.isAuthenticated()),this.accessTokenTrigger$.pipe(oe(()=>this.auth0Client.isAuthenticated())),this.refresh$.pipe(oe(()=>this.auth0Client.isAuthenticated()))))),this.isAuthenticated$=this.isAuthenticatedTrigger$.pipe(Be(),co(1)),this.user$=this.isAuthenticatedTrigger$.pipe(ye(i=>i?this.auth0Client.getUser():k(null)),Be()),this.idTokenClaims$=this.isAuthenticatedTrigger$.pipe(ye(i=>i?this.auth0Client.getIdTokenClaims():k(null))),this.error$=this.errorSubject$.asObservable()}setIsLoading(n){this.isLoadingSubject$.next(n)}refresh(){this.refresh$.next()}setAccessToken(n){this.accessToken$.next(n)}setError(n){this.errorSubject$.next(n)}}return t.\u0275fac=function(n){return new(n||t)(g(wi))},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Y=(()=>{class t{constructor(n,i,o,s){this.auth0Client=n,this.configFactory=i,this.navigator=o,this.authState=s,this.appStateSubject$=new _t(1),this.ngUnsubscribe$=new P,this.isLoading$=this.authState.isLoading$,this.isAuthenticated$=this.authState.isAuthenticated$,this.user$=this.authState.user$,this.idTokenClaims$=this.authState.idTokenClaims$,this.error$=this.authState.error$,this.appState$=this.appStateSubject$.asObservable();let r=a=>$i(()=>a,this.handleRedirectCallback(),yt(()=>this.auth0Client.checkSession()));this.shouldHandleCallback().pipe(Ae(a=>r(a).pipe(L(d=>{let h=this.configFactory.get();return this.navigator.navigateByUrl(h.errorPath||"/"),this.authState.setError(d),k(void 0)}))),q(()=>{this.authState.setIsLoading(!1)}),W(this.ngUnsubscribe$)).subscribe()}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}loginWithRedirect(n){return Ve(this.auth0Client.loginWithRedirect(n))}loginWithPopup(n,i){return Ve(this.auth0Client.loginWithPopup(n,i).then(()=>{this.authState.refresh()}))}logout(n){return Ve(this.auth0Client.logout(n).then(()=>{(n?.openUrl===!1||n?.openUrl)&&this.authState.refresh()}))}getAccessTokenSilently(n={}){return k(this.auth0Client).pipe(ye(i=>n.detailedResponse===!0?i.getTokenSilently(R(y({},n),{detailedResponse:!0})):i.getTokenSilently(n)),q(i=>{i&&this.authState.setAccessToken(typeof i=="string"?i:i.access_token)}),L(i=>(this.authState.setError(i),this.authState.refresh(),vt(i))))}getAccessTokenWithPopup(n){return k(this.auth0Client).pipe(ye(i=>i.getTokenWithPopup(n)),q(i=>{i&&this.authState.setAccessToken(i)}),L(i=>(this.authState.setError(i),this.authState.refresh(),vt(i))))}handleRedirectCallback(n){return yt(()=>this.auth0Client.handleRedirectCallback(n)).pipe(je(this.authState.isLoading$),q(([i,o])=>{o||this.authState.refresh();let s=i?.appState,r=s?.target??"/";s&&this.appStateSubject$.next(s),this.navigator.navigateByUrl(r)}),G(([i])=>i))}shouldHandleCallback(){return k(location.search).pipe(G(n=>{let i=new URLSearchParams(n);return(i.has("code")||i.has("error"))&&i.has("state")&&!this.configFactory.get().skipRedirectCallback}))}}return t.\u0275fac=function(n){return new(n||t)(g(wi),g(Fn),g(wc),g(rr))},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Cc=(()=>{class t{constructor(n){this.auth=n}canLoad(n,i){return this.auth.isAuthenticated$.pipe(be(1))}canActivate(n,i){return this.redirectIfUnauthenticated(i)}canActivateChild(n,i){return this.redirectIfUnauthenticated(i)}redirectIfUnauthenticated(n){return this.auth.isAuthenticated$.pipe(q(i=>{i||this.auth.loginWithRedirect({appState:{target:n.url}})}))}}return t.\u0275fac=function(n){return new(n||t)(g(Y))},t.\u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Dc=t=>e=>e.pipe(oe(n=>t.pipe(Li(),no(n)))),Ec=(()=>{class t{constructor(n,i,o,s){this.configFactory=n,this.auth0Client=i,this.authState=o,this.authService=s}intercept(n,i){let o=this.configFactory.get();if(!o.httpInterceptor?.allowedList)return i.handle(n);let s=this.authService.isLoading$.pipe(se(r=>!r));return this.findMatchingRoute(n,o.httpInterceptor).pipe(ye(r=>$i(()=>r!==null,k(r).pipe(Dc(s),Ut("tokenOptions"),ye(a=>this.getAccessTokenSilently(a).pipe(L(d=>this.allowAnonymous(r,d)?k(""):(this.authState.setError(d),vt(d))))),Ae(a=>{let d=a?n.clone({headers:n.headers.set("Authorization",`Bearer ${a}`)}):n;return i.handle(d)})),i.handle(n))))}getAccessTokenSilently(n){return k(this.auth0Client).pipe(ye(i=>i.getTokenSilently(n)),q(i=>this.authState.setAccessToken(i)),L(i=>(this.authState.refresh(),vt(i))))}stripQueryFrom(n){return n.indexOf("?")>-1&&(n=n.substr(0,n.indexOf("?"))),n.indexOf("#")>-1&&(n=n.substr(0,n.indexOf("#"))),n}canAttachToken(n,i){let o=s=>{if(!s)return!1;let r=this.stripQueryFrom(i.url);return s===r?!0:s.indexOf("*")===s.length-1&&i.url.startsWith(s.substr(0,s.length-1))};return or(n)?n.httpMethod&&n.httpMethod!==i.method?!1:(!n.uri&&!n.uriMatcher&&console.warn("Either a uri or uriMatcher is required when configuring the HTTP interceptor."),n.uriMatcher?n.uriMatcher(i.url):o(n.uri)):o(n)}findMatchingRoute(n,i){return Ve(i.allowedList).pipe(Li(o=>this.canAttachToken(o,n),null))}allowAnonymous(n,i){return!!n&&or(n)&&!!n.allowAnonymous&&["login_required","consent_required","missing_refresh_token"].includes(i.error)}}return t.\u0275fac=function(n){return new(n||t)(g(Fn),g(wi),g(rr),g(Y))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function ar(t){return[Y,Ec,Cc,{provide:Ci,useValue:t},{provide:wi,useFactory:Nn.createClient,deps:[Fn]}]}function Oc(t,e){if(t&1){let n=Ee();et(0),T(1,"button",2),H("click",function(){Te(n);let o=j();return Se(o.auth.logout({logoutParams:{returnTo:o.document.location.origin}}))}),O(2," Log out "),S(),tt()}}function Mc(t,e){if(t&1){let n=Ee();T(0,"button",2),H("click",function(){Te(n);let o=j();return Se(o.auth.loginWithRedirect())}),O(1,"Log in"),S()}}var cr=(()=>{let e=class e{constructor(i,o){this.document=i,this.auth=o}};e.\u0275fac=function(o){return new(o||e)(w(fe),w(Y))},e.\u0275cmp=U({type:e,selectors:[["app-auth-button"]],standalone:!0,features:[$],decls:4,vars:4,consts:[["loggedOut",""],[4,"ngIf","ngIfElse"],[1,"btn","btn-primary",3,"click"]],template:function(o,s){if(o&1&&(B(0,Oc,3,0,"ng-container",1),ae(1,"async"),B(2,Mc,2,0,"ng-template",null,0,en)),o&2){let r=Xi(3);I("ngIf",ce(1,2,s.auth.isAuthenticated$))("ngIfElse",r)}},dependencies:[Ne,Q],encapsulation:2});let t=e;return t})();function Ic(t,e){if(t&1&&(T(0,"ul")(1,"li"),O(2),S(),T(3,"li"),O(4),S()()),t&2){let n=e.ngIf;E(2),it(n.name),E(2),it(n.email)}}var lr=(()=>{let e=class e{constructor(i){this.auth=i}};e.\u0275fac=function(o){return new(o||e)(w(Y))},e.\u0275cmp=U({type:e,selectors:[["app-user-profile"]],standalone:!0,features:[$],decls:2,vars:3,consts:[[4,"ngIf"]],template:function(o,s){o&1&&(B(0,Ic,5,2,"ul",0),ae(1,"async")),o&2&&I("ngIf",ce(1,1,s.auth.user$))},dependencies:[Ne,Q],encapsulation:2});let t=e;return t})();var Ei=(()=>{let e=class e{constructor(i,o){this.authService=i,this.router=o,this.canActivate=(s,r)=>this.authService.isAuthenticated$.pipe(G(a=>a?!0:(this.router.navigate(["/login"]),!1)),L(()=>(this.router.navigate(["/error"]),k(!1))))}};e.\u0275fac=function(o){return new(o||e)(g(Y),g(Xt))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Oi=(()=>{let e=class e{constructor(i,o){this.platformId=i,this.authService=o}get isAuthenticated$(){return te(this.platformId)?this.authService.isAuthenticated$:k(!1)}get user$(){return te(this.platformId)?this.authService.user$:k(null)}get idTokenClaims$(){return te(this.platformId)?this.authService.idTokenClaims$:k(null)}get error$(){return te(this.platformId)?this.authService.error$:Pe}get appState$(){return te(this.platformId)?this.authService.appState$:k(null)}loginWithRedirect(i){return te(this.platformId)?this.authService.loginWithRedirect(i):Pe}loginWithPopup(i,o){return te(this.platformId)?this.authService.loginWithPopup(i,o):Pe}logout(i){return te(this.platformId)?this.authService.logout(i):Pe}getAccessTokenSilently(i){return te(this.platformId)?this.authService.getAccessTokenSilently(i):k(null)}getAccessTokenSilentlySimple(i){return te(this.platformId)?this.authService.getAccessTokenSilently(i):k("")}getAccessTokenWithPopup(i){return te(this.platformId)?this.authService.getAccessTokenWithPopup(i):k(void 0)}handleRedirectCallback(i){return te(this.platformId)?this.authService.handleRedirectCallback(i):k(null)}};e.\u0275fac=function(o){return new(o||e)(g(Ji),g(Y))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Rc(t,e){t&1&&O(0,"Content 1")}var ur=(()=>{let e=class e{constructor(i){this.auth=i,this.title="ToDo.Website",this.auth.loginWithRedirect(),console.log("startuping")}login(){this.auth.loginWithRedirect()}logout(){}};e.\u0275fac=function(o){return new(o||e)(w(Oi))},e.\u0275cmp=U({type:e,selectors:[["app-root"]],standalone:!0,features:[Ge([Ei]),$],decls:13,vars:0,consts:[["ngbNav","",1,"nav-tabs"],["ngbNavItem","one"],["ngbNavLink","","routerLink","/"],["ngbNavContent",""],["ngbNavLink","","routerLink","/todos"],[1,"container"]],template:function(o,s){o&1&&(T(0,"ul",0)(1,"li",1)(2,"a",2),O(3,"All Todos"),S(),K(4,"app-auth-button"),B(5,Rc,1,0,"ng-template",3),S(),T(6,"li",1)(7,"a",4),O(8,"Todos"),S()()(),T(9,"div"),K(10,"app-user-profile"),S(),T(11,"div",5),K(12,"router-outlet"),S())},dependencies:[xo,Ls,Tn,Ot,hi,As,Ns,pi,fi,ot,Po,cr,lr]});let t=e;return t})();var Vn={};function ie(t,e){if(Vn[t]=(Vn[t]||0)+1,typeof e=="function")return xn(t,(...i)=>R(y({},e(...i)),{type:t}));switch(e?e._as:"empty"){case"empty":return xn(t,()=>({type:t}));case"props":return xn(t,i=>R(y({},i),{type:t}));default:throw new Error("Unexpected config.")}}function ge(){return{_as:"props",_p:void 0}}function xn(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}var Cr="@ngrx/store/init",ht=(()=>{let e=class e extends xe{constructor(){super({type:Cr})}next(i){if(typeof i=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof i>"u")throw new TypeError("Actions must be objects");if(typeof i.type>"u")throw new TypeError("Actions must have a type property");super.next(i)}complete(){}ngOnDestroy(){super.complete()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),kc=[ht],Dr=new v("@ngrx/store Internal Root Guard"),hr=new v("@ngrx/store Internal Initial State"),Un=new v("@ngrx/store Initial State"),Er=new v("@ngrx/store Reducer Factory"),pr=new v("@ngrx/store Internal Reducer Factory Provider"),Or=new v("@ngrx/store Initial Reducers"),Pn=new v("@ngrx/store Internal Initial Reducers"),Bh=new v("@ngrx/store Store Features"),fr=new v("@ngrx/store Internal Store Reducers"),jh=new v("@ngrx/store Internal Feature Reducers"),Hh=new v("@ngrx/store Internal Feature Configs"),Gh=new v("@ngrx/store Internal Store Features"),Uh=new v("@ngrx/store Internal Feature Reducers Token"),$h=new v("@ngrx/store Feature Reducers"),mr=new v("@ngrx/store User Provided Meta Reducers"),Mi=new v("@ngrx/store Meta Reducers"),gr=new v("@ngrx/store Internal Resolved Meta Reducers"),_r=new v("@ngrx/store User Runtime Checks Config"),vr=new v("@ngrx/store Internal User Runtime Checks Config"),kt=new v("@ngrx/store Internal Runtime Checks"),Mr=new v("@ngrx/store Check if Action types are unique"),Ii=new v("@ngrx/store Root Store Provider"),Ir=new v("@ngrx/store Feature State Provider");function Ac(t,e={}){let n=Object.keys(t),i={};for(let s=0;s<n.length;s++){let r=n[s];typeof t[r]=="function"&&(i[r]=t[r])}let o=Object.keys(i);return function(r,a){r=r===void 0?e:r;let d=!1,h={};for(let c=0;c<o.length;c++){let l=o[c],u=i[l],p=r[l],f=u(p,a);h[l]=f,d=d||f!==p}return d?h:r}}function Nc(t,e){return Object.keys(t).filter(n=>n!==e).reduce((n,i)=>Object.assign(n,{[i]:t[i]}),{})}function Rr(...t){return function(e){if(t.length===0)return e;let n=t[t.length-1];return t.slice(0,-1).reduceRight((o,s)=>s(o),n(e))}}function kr(t,e){return Array.isArray(e)&&e.length>0&&(t=Rr.apply(null,[...e,t])),(n,i)=>{let o=t(n);return(s,r)=>(s=s===void 0?i:s,o(s,r))}}function Fc(t){let e=Array.isArray(t)&&t.length>0?Rr(...t):n=>n;return(n,i)=>(n=e(n),(o,s)=>(o=o===void 0?i:o,n(o,s)))}var At=class extends he{},Ri=class extends ht{},xc="@ngrx/store/update-reducers",Bn=(()=>{let e=class e extends xe{get currentReducers(){return this.reducers}constructor(i,o,s,r){super(r(s,o)),this.dispatcher=i,this.initialState=o,this.reducers=s,this.reducerFactory=r}addFeature(i){this.addFeatures([i])}addFeatures(i){let o=i.reduce((s,{reducers:r,reducerFactory:a,metaReducers:d,initialState:h,key:c})=>{let l=typeof r=="function"?Fc(d)(r,h):kr(a,d)(r,h);return s[c]=l,s},{});this.addReducers(o)}removeFeature(i){this.removeFeatures([i])}removeFeatures(i){this.removeReducers(i.map(o=>o.key))}addReducer(i,o){this.addReducers({[i]:o})}addReducers(i){this.reducers=y(y({},this.reducers),i),this.updateReducers(Object.keys(i))}removeReducer(i){this.removeReducers([i])}removeReducers(i){i.forEach(o=>{this.reducers=Nc(this.reducers,o)}),this.updateReducers(i)}updateReducers(i){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:xc,features:i})}ngOnDestroy(){this.complete()}};e.\u0275fac=function(o){return new(o||e)(g(Ri),g(Un),g(Or),g(Er))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Pc=[Bn,{provide:At,useExisting:Bn},{provide:Ri,useExisting:ht}],Nt=(()=>{let e=class e extends P{ngOnDestroy(){this.complete()}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=qe(e)))(s||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Vc=[Nt],ki=class extends he{},yr=(()=>{let e=class e extends xe{constructor(i,o,s,r){super(r);let d=i.pipe(Qn(qn)).pipe(je(o)),h={state:r},c=d.pipe($t(Bc,h));this.stateSubscription=c.subscribe(({state:l,action:u})=>{this.next(l),s.next(u)}),this.state=an(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};e.INIT=Cr,e.\u0275fac=function(o){return new(o||e)(g(ht),g(At),g(Nt),g(Un))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function Bc(t={state:void 0},[e,n]){let{state:i}=t;return{state:n(i,e),action:e}}var jc=[yr,{provide:ki,useExisting:yr}],le=(()=>{let e=class e extends he{constructor(i,o,s){super(),this.actionsObserver=o,this.reducerManager=s,this.source=i,this.state=i.state}select(i,...o){return Gc.call(null,i,...o)(this)}selectSignal(i,o){return Jt(()=>i(this.state()),o)}lift(i){let o=new e(this,this.actionsObserver,this.reducerManager);return o.operator=i,o}dispatch(i){this.actionsObserver.next(i)}next(i){this.actionsObserver.next(i)}error(i){this.actionsObserver.error(i)}complete(){this.actionsObserver.complete()}addReducer(i,o){this.reducerManager.addReducer(i,o)}removeReducer(i){this.reducerManager.removeReducer(i)}};e.\u0275fac=function(o){return new(o||e)(g(ki),g(ht),g(Bn))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Hc=[le];function Gc(t,e,...n){return function(o){let s;if(typeof t=="string"){let r=[e,...n].filter(Boolean);s=o.pipe(Ut(t,...r))}else if(typeof t=="function")s=o.pipe(G(r=>t(r,e)));else throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);return s.pipe(Be())}}var $n="https://ngrx.io/guide/store/configuration/runtime-checks";function br(t){return t===void 0}function Tr(t){return t===null}function Ar(t){return Array.isArray(t)}function Uc(t){return typeof t=="string"}function $c(t){return typeof t=="boolean"}function Lc(t){return typeof t=="number"}function Nr(t){return typeof t=="object"&&t!==null}function Wc(t){return Nr(t)&&!Ar(t)}function zc(t){if(!Wc(t))return!1;let e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function jn(t){return typeof t=="function"}function Kc(t){return jn(t)&&t.hasOwnProperty("\u0275cmp")}function Jc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Zc=!1;function Yc(){return Zc}function Sr(t,e){return t===e}function qc(t,e,n){for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!0;return!1}function Fr(t,e=Sr,n=Sr){let i=null,o=null,s;function r(){i=null,o=null}function a(c=void 0){s={result:c}}function d(){s=void 0}function h(){if(s!==void 0)return s.result;if(!i)return o=t.apply(null,arguments),i=arguments,o;if(!qc(arguments,i,e))return o;let c=t.apply(null,arguments);return i=arguments,n(o,c)?o:(o=c,c)}return{memoized:h,reset:r,setResult:a,clearResult:d}}function Ke(...t){return Xc(Fr)(...t)}function Qc(t,e,n,i){if(n===void 0){let s=e.map(r=>r(t));return i.memoized.apply(null,s)}let o=e.map(s=>s(t,n));return i.memoized.apply(null,[...o,n])}function Xc(t,e={stateFn:Qc}){return function(...n){let i=n;if(Array.isArray(i[0])){let[c,...l]=i;i=[...c,...l]}else i.length===1&&el(i[0])&&(i=tl(i[0]));let o=i.slice(0,i.length-1),s=i[i.length-1],r=o.filter(c=>c.release&&typeof c.release=="function"),a=t(function(...c){return s.apply(null,c)}),d=Fr(function(c,l){return e.stateFn.apply(null,[c,o,l,a])});function h(){d.reset(),a.reset(),r.forEach(c=>c.release())}return Object.assign(d.memoized,{release:h,projector:a.memoized,setResult:d.setResult,clearResult:d.clearResult})}}function xr(t){return Ke(e=>{let n=e[t];return!Yc()&&tn()&&!(t in e)&&console.warn(`@ngrx/store: The feature name "${t}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${t}', ...) or StoreModule.forFeature('${t}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),n},e=>e)}function el(t){return!!t&&typeof t=="object"&&Object.values(t).every(e=>typeof e=="function")}function tl(t){let e=Object.values(t),n=Object.keys(t),i=(...o)=>n.reduce((s,r,a)=>R(y({},s),{[r]:o[a]}),{});return[...e,i]}function il(t){return t instanceof v?m(t):t}function nl(t){return typeof t=="function"?t():t}function ol(t,e){return t.concat(e)}function sl(){if(m(le,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function rl(t,e){return function(n,i){let o=e.action(i)?Hn(i):i,s=t(n,o);return e.state()?Hn(s):s}}function Hn(t){Object.freeze(t);let e=jn(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&Jc(t,n)&&(!e||n!=="caller"&&n!=="callee"&&n!=="arguments")){let i=t[n];(Nr(i)||jn(i))&&!Object.isFrozen(i)&&Hn(i)}}),t}function al(t,e){return function(n,i){if(e.action(i)){let s=Gn(i);wr(s,"action")}let o=t(n,i);if(e.state()){let s=Gn(o);wr(s,"state")}return o}}function Gn(t,e=[]){return(br(t)||Tr(t))&&e.length===0?{path:["root"],value:t}:Object.keys(t).reduce((i,o)=>{if(i)return i;let s=t[o];return Kc(s)?i:br(s)||Tr(s)||Lc(s)||$c(s)||Uc(s)||Ar(s)?!1:zc(s)?Gn(s,[...e,o]):{path:[...e,o],value:s}},!1)}function wr(t,e){if(t===!1)return;let n=t.path.join("."),i=new Error(`Detected unserializable ${e} at "${n}". ${$n}#strict${e}serializability`);throw i.value=t.value,i.unserializablePath=n,i}function cl(t,e){return function(n,i){if(e.action(i)&&!we.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${$n}#strictactionwithinngzone`);return t(n,i)}}function ll(t){return tn()?y({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function dl({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?al(n,{action:i=>t&&!Ln(i),state:()=>e}):n}function ul({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?rl(n,{action:i=>t&&!Ln(i),state:()=>e}):n}function Ln(t){return t.type.startsWith("@ngrx")}function hl({strictActionWithinNgZone:t}){return e=>t?cl(e,{action:n=>t&&!Ln(n)}):e}function pl(t){return[{provide:vr,useValue:t},{provide:_r,useFactory:ml,deps:[vr]},{provide:kt,deps:[_r],useFactory:ll},{provide:Mi,multi:!0,deps:[kt],useFactory:ul},{provide:Mi,multi:!0,deps:[kt],useFactory:dl},{provide:Mi,multi:!0,deps:[kt],useFactory:hl}]}function fl(){return[{provide:Mr,multi:!0,deps:[kt],useFactory:gl}]}function ml(t){return t}function gl(t){if(!t.strictActionTypeUniqueness)return;let e=Object.entries(Vn).filter(([,n])=>n>1).map(([n])=>n);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(n=>`"${n}"`).join(", ")}. ${$n}#strictactiontypeuniqueness`)}function _l(t={},e={}){return[{provide:Dr,useFactory:sl},{provide:hr,useValue:e.initialState},{provide:Un,useFactory:nl,deps:[hr]},{provide:Pn,useValue:t},{provide:fr,useExisting:t instanceof v?t:Pn},{provide:Or,deps:[Pn,[new lo(fr)]],useFactory:il},{provide:mr,useValue:e.metaReducers?e.metaReducers:[]},{provide:gr,deps:[Mi,mr],useFactory:ol},{provide:pr,useValue:e.reducerFactory?e.reducerFactory:Ac},{provide:Er,deps:[pr,gr],useFactory:kr},kc,Pc,Vc,jc,Hc,pl(e.runtimeChecks),fl()]}function vl(){m(ht),m(At),m(Nt),m(le),m(Dr,{optional:!0}),m(Mr,{optional:!0})}var yl=[{provide:Ii,useFactory:vl},{provide:Lt,multi:!0,useFactory(){return()=>m(Ii)}}];function Pr(t,e){return Ye([..._l(t,e),yl])}function Ie(...t){let e=t.pop(),n=t.map(i=>i.type);return{reducer:e,types:n}}function Vr(t,...e){let n=new Map;for(let i of e)for(let o of i.types){let s=n.get(o);if(s){let r=(a,d)=>i.reducer(s(a,d),d);n.set(o,r)}else n.set(o,i.reducer)}return function(i=t,o){let s=n.get(o.type);return s?s(i,o):i}}var pt=ie("[Todo] Load Todos"),Ni=ie("[Todo] Todos Loaded",ge()),Ft=ie("[Todo] Load Todos Failed",ge()),Fi=ie("[Todo] Load All Todos"),Br=ie("[Todo] All Todos Loaded",ge()),jr=ie("[Todo] Load All Todos Failed",ge()),xi=ie("[Todo] Add Todo",ge()),xt=ie("[Todo] Added",ge()),Pi=ie("[Todo] Complete Todo",ge()),Pt=ie("[Todo] Completed",ge()),Hr=ie("[Todo] Complete Todo Failed",ge());var Vt=xr("todos"),Vi=Ke(Vt,t=>t.todos),Jh=Ke(Vt,t=>t.loading),Zh=Ke(Vt,t=>t.todos),Bi=Ke(Vt,t=>t.loading),ji=Ke(Vt,t=>t.error);var bl=["app-todoitem",""];function Tl(t,e){if(t&1){let n=Ee();T(0,"div",1)(1,"div",2),O(2),S(),T(3,"div",3)(4,"div"),O(5),S(),T(6,"div"),O(7),S(),T(8,"div"),O(9),S()(),T(10,"div",4)(11,"button",5),H("click",function(){Te(n);let o=j();return Se(o.completeTodo(o.todo.id))}),O(12,"Complete"),S()()()}if(t&2){let n=j();E(2),it(n.todo==null?null:n.todo.title),E(3),ee("id: ",n.todo==null?null:n.todo.id,""),E(2),ee("completed: ",n.todo==null?null:n.todo.isComplete,""),E(2),ee("description: ",n.todo==null?null:n.todo.description,"")}}var Hi=(()=>{let e=class e{constructor(i){this.store=i}completeTodo(i){this.store.dispatch(Pi({id:i}))}};e.\u0275fac=function(o){return new(o||e)(w(le))},e.\u0275cmp=U({type:e,selectors:[["","app-todoitem",""]],inputs:{todo:"todo"},standalone:!0,features:[$],attrs:bl,decls:1,vars:1,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"card-footer"],[1,"btn","btn-primary",3,"click"]],template:function(o,s){o&1&&B(0,Tl,13,4,"div",0),o&2&&I("ngIf",s.todo)},dependencies:[Q]});let t=e;return t})();function Sl(t,e){if(t&1&&(T(0,"div",6)(1,"form",7)(2,"div",8)(3,"label",9),O(4,"Todo Title"),S(),K(5,"input",10),S(),T(6,"div",8)(7,"label",11),O(8,"Description"),S(),K(9,"textarea",12),S()()()),t&2){let n=j();E(),I("formGroup",n.todoForm)}}var Gr=(()=>{let e=class e{constructor(i,o){this.modal=i,this.fb=o}saveTodo(){this.modal.close(this.todoForm?.value)}ngOnInit(){this.todoForm=this.fb.group({todoTitle:["",ii.required],todoDescription:[""]})}};e.\u0275fac=function(o){return new(o||e)(w(lt),w(_s))},e.\u0275cmp=U({type:e,selectors:[["app-add-todo-modal"]],standalone:!0,features:[$],decls:8,vars:1,consts:[[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","todoTitle"],["type","text","id","todoTitle","formControlName","todoTitle","placeholder","Enter title",1,"form-control"],["for","todoDescription"],["id","todoDescription","formControlName","todoDescription","placeholder","Description",1,"form-control"]],template:function(o,s){o&1&&(T(0,"div",0)(1,"h4",1),O(2,"Profile update"),S(),T(3,"button",2),H("click",function(){return s.modal.dismiss()}),S()(),B(4,Sl,10,1,"div",3),T(5,"div",4)(6,"button",5),H("click",function(){return s.saveTodo()}),O(7,"Save"),S()()),o&2&&(E(4),I("ngIf",s.todoForm))},dependencies:[vs,ms,li,ls,ds,mn,gn,Q]});let t=e;return t})();function wl(t,e){t&1&&(T(0,"div"),O(1,"This is a fake loading time, there's an intentional delay. Loading, please wait...."),S())}function Cl(t,e){if(t&1&&K(0,"div",4),t&2){let n=e.$implicit;I("todo",n)}}var Ur=(()=>{let e=class e{constructor(i,o){this.store=i,this.modalService=o,this.todos$=this.store.select(Vi),this.loading$=this.store.select(Bi),this.error$=this.store.select(ji)}openAddDialog(){this.modalService.open(Gr).result.then(o=>{o&&this.store.dispatch(xi({title:o.todoTitle,description:o.todoDescription}))},o=>{console.log("Dismissed",o)})}ngOnInit(){this.store.dispatch(pt())}};e.\u0275fac=function(o){return new(o||e)(w(le),w(bn))},e.\u0275cmp=U({type:e,selectors:[["app-todolist"]],standalone:!0,features:[$],decls:12,vars:11,consts:[[1,"row"],[3,"click"],[4,"ngIf"],["class","col-lg-3 mb-5","app-todoitem","",3,"todo",4,"ngFor","ngForOf"],["app-todoitem","",1,"col-lg-3","mb-5",3,"todo"]],template:function(o,s){o&1&&(T(0,"div",0)(1,"button",1),H("click",function(){return s.openAddDialog()}),O(2,"Add"),S()(),B(3,wl,2,0,"div",2),ae(4,"async"),T(5,"div",0),B(6,Cl,1,1,"div",3),ae(7,"async"),T(8,"pre"),O(9),ae(10,"async"),ae(11,"json"),S()()),o&2&&(E(3),I("ngIf",ce(4,3,s.loading$)),E(3),I("ngForOf",ce(7,5,s.todos$)),E(3),ee("    ",ce(11,9,ce(10,7,s.todos$)),`
  `))},dependencies:[Hi,ot,Yt,Q,Ne,Co]});let t=e;return t})();var Dl={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Gi="__@ngrx/effects_create__";function ft(t,e={}){let n=e.functional?t:t(),i=y(y({},Dl),e);return Object.defineProperty(n,Gi,{value:i}),n}function El(t){return Object.getOwnPropertyNames(t).filter(i=>t[i]&&t[i].hasOwnProperty(Gi)?t[i][Gi].hasOwnProperty("dispatch"):!1).map(i=>{let o=t[i][Gi];return y({propertyName:i},o)})}function Ol(t){return El(t)}function $r(t){return Object.getPrototypeOf(t)}function Ml(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function Lr(t){return typeof t=="function"}function Il(t){return t.filter(Lr)}function Rl(t,e,n){let i=$r(t),s=!!i&&i.constructor.name!=="Object"?i.constructor.name:null,r=Ol(t).map(({propertyName:a,dispatch:d,useEffectsErrorHandler:h})=>{let c=typeof t[a]=="function"?t[a]():t[a],l=h?n(c,e):c;return d===!1?l.pipe(io()):l.pipe(ao()).pipe(G(p=>({effect:t[a],notification:p,propertyName:a,sourceName:s,sourceInstance:t})))});return Je(...r)}var kl=10;function Wr(t,e,n=kl){return t.pipe(L(i=>(e&&e.handleError(i),n<=1?t:Wr(t,e,n-1))))}var zr=(()=>{let e=class e extends he{constructor(i){super(),i&&(this.source=i)}lift(i){let o=new e;return o.source=this,o.operator=i,o}};e.\u0275fac=function(o){return new(o||e)(g(Nt))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mt(...t){return se(e=>t.some(n=>typeof n=="string"?n===e.type:n.type===e.type))}var yp=new v("@ngrx/effects Internal Root Guard"),bp=new v("@ngrx/effects User Provided Effects"),Tp=new v("@ngrx/effects Internal Root Effects"),Sp=new v("@ngrx/effects Internal Root Effects Instances"),wp=new v("@ngrx/effects Internal Feature Effects"),Cp=new v("@ngrx/effects Internal Feature Effects Instance Groups"),Al=new v("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Wr}),Nl="@ngrx/effects/init",Fl=ie(Nl);function xl(t,e){if(t.notification.kind==="N"){let n=t.notification.value;!Pl(n)&&e.handleError(new Error(`Effect ${Vl(t)} dispatched an invalid action: ${Bl(n)}`))}}function Pl(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function Vl({propertyName:t,sourceInstance:e,sourceName:n}){let i=typeof e[t]=="function";return!!n?`"${n}.${String(t)}${i?"()":""}"`:`"${String(t)}()"`}function Bl(t){try{return JSON.stringify(t)}catch{return t}}var jl="ngrxOnIdentifyEffects";function Hl(t){return Wn(t,jl)}var Gl="ngrxOnRunEffects";function Ul(t){return Wn(t,Gl)}var $l="ngrxOnInitEffects";function Ll(t){return Wn(t,$l)}function Wn(t,e){return t&&e in t&&typeof t[e]=="function"}var Kr=(()=>{let e=class e extends P{constructor(i,o){super(),this.errorHandler=i,this.effectsErrorHandler=o}addEffects(i){this.next(i)}toActions(){return this.pipe(Wi(i=>Ml(i)?$r(i):i),oe(i=>i.pipe(Wi(Wl))),oe(i=>{let o=i.pipe(ro(r=>zl(this.errorHandler,this.effectsErrorHandler)(r)),G(r=>(xl(r,this.errorHandler),r.notification)),se(r=>r.kind==="N"&&r.value!=null),oo()),s=i.pipe(be(1),se(Ll),G(r=>r.ngrxOnInitEffects()));return Je(o,s)}))}};e.\u0275fac=function(o){return new(o||e)(g(uo),g(Al))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Wl(t){return Hl(t)?t.ngrxOnIdentifyEffects():""}function zl(t,e){return n=>{let i=Rl(n,t,e);return Ul(n)?n.ngrxOnRunEffects(i):i}}var Kl=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(i,o){this.effectSources=i,this.store=o,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(o){return new(o||e)(g(Kr),g(le))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Bt(...t){let e=t.flat(),n=Il(e);return Ye([n,{provide:Lt,multi:!0,useValue:()=>{m(Ii),m(Ir,{optional:!0});let i=m(Kl),o=m(Kr),s=!i.isStarted;s&&i.start();for(let r of e){let a=Lr(r)?m(r):r;o.addEffects(a)}s&&m(le).dispatch(Fl())}}])}var Re={production:!1,apiBaseUrl:"http://localhost:5141/todo",auth:{domain:"rickstodos.us.auth0.com",clientId:"1BOHkOreZRgtUBBjvZf8Ua8kojDU7kNl",redirectUri:"http://localhost:4000/todos",audience:"Todos"}};var Jr=(()=>{let e=class e{constructor(i,o){this.http=i,this.transferState=o,this.apiUrl=Re.apiBaseUrl,this.TODOS_KEY="todos",this.ALLTODOS_KEY="alltodos"}getMyTodos(){let i=this.transferState.get(this.TODOS_KEY,null);return i?k(i):this.http.get(this.apiUrl).pipe(q(o=>{this.transferState.set(this.TODOS_KEY,o)}))}getAllTodos(){let i=this.transferState.get(this.ALLTODOS_KEY,null);return i?k(i):this.http.get(this.apiUrl+"/all").pipe(q(o=>{this.transferState.set(this.ALLTODOS_KEY,o)}))}addTodo(i){return this.http.post(this.apiUrl,i).pipe(L(o=>{throw"error in source. Details: "+o}))}completeTodo(i){return this.http.put(`${this.apiUrl}/complete`,{id:i}).pipe(L(o=>{throw"error in source. Details: "+o}))}};e.\u0275fac=function(o){return new(o||e)(g(Do),g(ho))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Zr=["toast-component",""];function Yl(t,e){if(t&1){let n=Ee();T(0,"button",5),H("click",function(){Te(n);let o=j();return Se(o.remove())}),T(1,"span",6),O(2,"\xD7"),S()()}}function ql(t,e){if(t&1&&(et(0),O(1),tt()),t&2){let n=j(2);E(),ee("[",n.duplicatesCount+1,"]")}}function Ql(t,e){if(t&1&&(T(0,"div"),O(1),B(2,ql,2,1,"ng-container",4),S()),t&2){let n=j();re(n.options.titleClass),ue("aria-label",n.title),E(),ee(" ",n.title," "),E(),I("ngIf",n.duplicatesCount)}}function Xl(t,e){if(t&1&&K(0,"div",7),t&2){let n=j();re(n.options.messageClass),I("innerHTML",n.message,Zi)}}function ed(t,e){if(t&1&&(T(0,"div",8),O(1),S()),t&2){let n=j();re(n.options.messageClass),ue("aria-label",n.message),E(),ee(" ",n.message," ")}}function td(t,e){if(t&1&&(T(0,"div"),K(1,"div",9),S()),t&2){let n=j();E(),Xe("width",n.width+"%")}}function id(t,e){if(t&1){let n=Ee();T(0,"button",5),H("click",function(){Te(n);let o=j();return Se(o.remove())}),T(1,"span",6),O(2,"\xD7"),S()()}}function nd(t,e){if(t&1&&(et(0),O(1),tt()),t&2){let n=j(2);E(),ee("[",n.duplicatesCount+1,"]")}}function od(t,e){if(t&1&&(T(0,"div"),O(1),B(2,nd,2,1,"ng-container",4),S()),t&2){let n=j();re(n.options.titleClass),ue("aria-label",n.title),E(),ee(" ",n.title," "),E(),I("ngIf",n.duplicatesCount)}}function sd(t,e){if(t&1&&K(0,"div",7),t&2){let n=j();re(n.options.messageClass),I("innerHTML",n.message,Zi)}}function rd(t,e){if(t&1&&(T(0,"div",8),O(1),S()),t&2){let n=j();re(n.options.messageClass),ue("aria-label",n.message),E(),ee(" ",n.message," ")}}function ad(t,e){if(t&1&&(T(0,"div"),K(1,"div",9),S()),t&2){let n=j();E(),Xe("width",n.width+"%")}}var zn=class{_attachedHost;component;viewContainerRef;injector;constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){let e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Kn=class{_attachedPortal;_disposeFn;attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}},Jn=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new P;_activate=new P;_manualClose=new P;_resetTimeout=new P;_countDuplicate=new P;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},gt=class{toastId;config;message;title;toastType;toastRef;_onTap=new P;_onAction=new P;constructor(e,n,i,o,s,r){this.toastId=e,this.config=n,this.message=i,this.title=o,this.toastType=s,this.toastRef=r,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}},Yr={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},qr=new v("ToastConfig"),Zn=class extends Kn{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,n,i){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=i}attachComponentPortal(e,n){let i=this._componentFactoryResolver.resolveComponentFactory(e.component),o;return o=i.create(e.injector),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.detachView(o.hostView),o.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(o),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(o)),o}_getComponentRootNode(e){return e.hostView.rootNodes[0]}},cd=(()=>{class t{_document=m(fe);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(i){return new(i||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Yn=class{_portalHost;constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}},ld=(()=>{class t{_overlayContainer=m(cd);_componentFactoryResolver=m(fo);_appRef=m(nt);_document=m(fe);_paneElements=new Map;create(n,i){return this._createOverlayRef(this.getPaneElement(n,i))}getPaneElement(n="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[n]||(this._paneElements.get(i)[n]=this._createPaneElement(n,i)),this._paneElements.get(i)[n]}_createPaneElement(n,i){let o=this._document.createElement("div");return o.id="toast-container",o.classList.add(n),o.classList.add("toast-container"),i?i.getContainerElement().appendChild(o):this._overlayContainer.getContainerElement().appendChild(o),o}_createPortalHost(n){return new Zn(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new Yn(this._createPortalHost(n))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ui=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,i,o,s,r){this.overlay=i,this._injector=o,this.sanitizer=s,this.ngZone=r,this.toastrConfig=y(y({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=y(y({},n.default.iconClasses),n.config.iconClasses))}show(n,i,o={},s=""){return this._preBuildNotification(s,n,i,this.applyConfig(o))}success(n,i,o={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,n,i,this.applyConfig(o))}error(n,i,o={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,n,i,this.applyConfig(o))}info(n,i,o={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,n,i,this.applyConfig(o))}warning(n,i,o={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,n,i,this.applyConfig(o))}clear(n){for(let i of this.toasts)if(n!==void 0){if(i.toastId===n){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(n){let i=this._findToast(n);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let o=this.toasts[this.currentlyActive].toastRef;o.isInactive()||(this.currentlyActive=this.currentlyActive+1,o.activate())}return!0}findDuplicate(n="",i="",o,s){let{includeTitleDuplicates:r}=this.toastrConfig;for(let a of this.toasts){let d=r&&a.title===n;if((!r||d)&&a.message===i)return a.toastRef.onDuplicate(o,s),a}return null}applyConfig(n={}){return y(y({},this.toastrConfig),n)}_findToast(n){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===n)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(n,i,o,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,i,o,s)):this._buildNotification(n,i,o,s)}_buildNotification(n,i,o,s){if(!s.toastComponent)throw new Error("toastComponent required");let r=this.findDuplicate(o,i,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&o||i)&&this.toastrConfig.preventDuplicates&&r!==null)return r;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let d=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let h=i;i&&s.enableHtml&&(h=this.sanitizer.sanitize(po.HTML,i));let c=new Jn(d),l=new gt(this.index,s,h,o,n,c),u=[{provide:gt,useValue:l}],p=de.create({providers:u,parent:this._injector}),f=new zn(s.toastComponent,p),M=d.attach(f,s.newestOnTop);c.componentInstance=M.instance;let b={toastId:this.index,title:o||"",message:i||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:M};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{b.toastRef.activate()})),this.toasts.push(b),b}static \u0275fac=function(i){return new(i||t)(g(qr),g(ld),g(de),g(Ro),g(we))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dd=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if(this.state.value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,i,o){this.toastrService=n,this.toastPackage=i,this.ngZone=o,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=R(y({},this.state),{value:"active"}),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),i=this.hideTime-n;this.width=i/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=R(y({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state.value!=="removed"&&(clearTimeout(this.timeout),this.state=R(y({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state.value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state.value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state.value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),i)):this.timeout=setTimeout(()=>n(),i)}outsideInterval(n,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),i)):this.intervalId=setInterval(()=>n(),i)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(i){return new(i||t)(w(Ui),w(gt),w(we))};static \u0275cmp=U({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,o){i&1&&H("click",function(){return o.tapToast()})("mouseenter",function(){return o.stickAround()})("mouseleave",function(){return o.delayedHideToast()}),i&2&&(go("@flyInOut",o.state),re(o.toastClasses),Xe("display",o.displayStyle))},standalone:!0,features:[$],attrs:Zr,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,o){i&1&&B(0,Yl,3,0,"button",0)(1,Ql,3,5,"div",1)(2,Xl,1,3,"div",2)(3,ed,2,4,"div",3)(4,td,2,2,"div",4),i&2&&(I("ngIf",o.options.closeButton),E(),I("ngIf",o.title),E(),I("ngIf",o.message&&o.options.enableHtml),E(),I("ngIf",o.message&&!o.options.enableHtml),E(),I("ngIf",o.options.progressBar))},dependencies:[Q],encapsulation:2,data:{animation:[Ao("flyInOut",[Qt("inactive",qt({opacity:0})),Qt("active",qt({opacity:1})),Qt("removed",qt({opacity:0})),sn("inactive => active",on("{{ easeTime }}ms {{ easing }}")),sn("active => removed",on("{{ easeTime }}ms {{ easing }}"))])]}})}return t})(),ud=R(y({},Yr),{toastComponent:dd}),Qr=(t={})=>Ye([{provide:qr,useValue:{default:ud,config:t}}]);var hd=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";get displayStyle(){return this.state==="inactive"?"none":null}state="inactive";timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,i,o){this.toastrService=n,this.toastPackage=i,this.appRef=o,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width===0||this.width===100||!this.options.timeOut)return;let n=new Date().getTime(),i=this.hideTime-n;this.width=i/this.options.timeOut*100,this.options.progressAnimation==="increasing"&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state!=="removed"&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||t)(w(Ui),w(gt),w(nt))};static \u0275cmp=U({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,o){i&1&&H("click",function(){return o.tapToast()})("mouseenter",function(){return o.stickAround()})("mouseleave",function(){return o.delayedHideToast()}),i&2&&(re(o.toastClasses),Xe("display",o.displayStyle))},standalone:!0,features:[$],attrs:Zr,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,o){i&1&&B(0,id,3,0,"button",0)(1,od,3,5,"div",1)(2,sd,1,3,"div",2)(3,rd,2,4,"div",3)(4,ad,2,2,"div",4),i&2&&(I("ngIf",o.options.closeButton),E(),I("ngIf",o.title),E(),I("ngIf",o.message&&o.options.enableHtml),E(),I("ngIf",o.message&&!o.options.enableHtml),E(),I("ngIf",o.options.progressBar))},dependencies:[Q],encapsulation:2})}return t})(),$p=R(y({},Yr),{toastComponent:hd});var jt=(()=>{let e=class e{constructor(i,o,s){this.actions$=i,this.todoService=o,this.toastr=s,this.loadTodos$=ft(()=>this.actions$.pipe(mt(pt),Ae(()=>this.todoService.getMyTodos().pipe(G(r=>Ni({todos:r})),L(r=>k(Ft({error:r}))))))),this.addTodo$=ft(()=>this.actions$.pipe(mt(xi),oe(r=>this.todoService.addTodo({title:r.title,description:r.description}).pipe(G(a=>xt(a)),L(a=>k(Ft({error:a}))))))),this.completeTodo$=ft(()=>this.actions$.pipe(mt(Pi),oe(r=>this.todoService.completeTodo(r.id).pipe(G(a=>Pt({id:r.id})),L(a=>k(Hr({error:a}))))))),this.todoCompleted$=ft(()=>this.actions$.pipe(mt(Pt),q(()=>{this.toastr.success("Todo item completed successfully!")})),{dispatch:!1}),this.todoAdded$=ft(()=>this.actions$.pipe(mt(xt),q(()=>{this.toastr.success("Todo item Added successfully!")})),{dispatch:!1})}};e.\u0275fac=function(o){return new(o||e)(g(zr),g(Jr),g(Ui))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function fd(t,e){t&1&&(T(0,"div"),O(1,"This is a fake loading time, there's an intentional delay. Loading, please wait...."),S())}function md(t,e){if(t&1&&K(0,"div",3),t&2){let n=e.$implicit;I("todo",n)}}var Xr=(()=>{let e=class e{constructor(i){this.store=i,this.todos$=this.store.select(Vi),this.loading$=this.store.select(Bi),this.error$=this.store.select(ji)}ngOnInit(){this.store.dispatch(Fi())}};e.\u0275fac=function(o){return new(o||e)(w(le))},e.\u0275cmp=U({type:e,selectors:[["app-alltodos"]],standalone:!0,features:[$],decls:7,vars:6,consts:[[4,"ngIf"],[1,"row"],["class","col-lg-3 mb-5","app-todoitem","",3,"todo",4,"ngFor","ngForOf"],["app-todoitem","",1,"col-lg-3","mb-5",3,"todo"]],template:function(o,s){o&1&&(T(0,"h1"),O(1,"All todos in the system"),S(),B(2,fd,2,0,"div",0),ae(3,"async"),T(4,"div",1),B(5,md,1,1,"div",2),ae(6,"async"),S()),o&2&&(E(2),I("ngIf",ce(3,2,s.loading$)),E(3),I("ngForOf",ce(6,4,s.todos$)))},dependencies:[Hi,ot,Yt,Q,Ne]});let t=e;return t})();var ea=[{path:"todos",component:Ur,providers:[Bt([jt]),Y]},{path:"",component:Xr,providers:[Bt([jt]),Y]}];var gd={todos:[],allTodos:[],loading:!1,error:null},_d=Vr(gd,Ie(pt,t=>R(y({},t),{loading:!0})),Ie(Ni,(t,{todos:e})=>R(y({},t),{todos:e,loading:!1,error:null})),Ie(Ft,(t,{error:e})=>R(y({},t),{loading:!1,error:e})),Ie(Br,(t,{todos:e})=>R(y({},t),{todos:e,loading:!1,error:null})),Ie(jr,(t,{error:e})=>R(y({},t),{loading:!1,error:e})),Ie(Fi,t=>R(y({},t),{loading:!0})),Ie(xt,(t,e)=>R(y({},t),{todos:[...t.todos,e],loading:!1,error:null})),Ie(Pt,(t,{id:e})=>R(y({},t),{todos:t.todos.filter(n=>n.id!==e),allTodos:t.allTodos.filter(n=>n.id!==e),loading:!1,error:null}))),ta={todos:_d};var ia=(()=>{let e=class e{constructor(i){this.authService=i}intercept(i,o){return i.url==`${Re.apiBaseUrl}/todo`?(console.log("Intercepting request"),this.authService.getAccessTokenSilently().pipe(oe(s=>{let r=i.clone({setHeaders:{Authorization:`Bearer ${s}`}});return o.handle(r)}),L(s=>(console.log("No token retrieved or user not authenticated, proceeding without token."),o.handle(i))))):o.handle(i)}};e.\u0275fac=function(o){return new(o||e)(g(Oi))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();var na={providers:[Vo(ea),ko(),Pr(ta),Bt([jt]),Oo(Mo()),ar({domain:Re.auth.domain,clientId:Re.auth.clientId,authorizationParams:{redirect_uri:Re.auth.redirectUri,cacheLocation:"localstorage",audience:Re.auth.audience}}),{provide:Eo,useClass:ia,multi:!0},Ei,Qr({timeOut:3e3,positionClass:"toast-top-right",preventDuplicates:!0,closeButton:!0}),No()]};var vd={providers:[Fo(),{provide:Y,useValue:{}},{provide:Ci,useValue:{}}]},oa=So(na,vd);var yd=()=>Io(ur,oa),Bf=yd;export{Bf as a};
